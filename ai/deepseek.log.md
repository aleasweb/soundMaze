Me[1]
–ü—Ä–∏–≤–µ—Ç. –°–µ–≥–æ–¥–Ω—è –º—ã –±—É–¥–µ–º –ø–∏—Å–∞—Ç—å –¢–ó –¥–ª—è –∏–≥—Ä—ã.
–¢–≤–æ—è —Ä–æ–ª—å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –ø–∏—Å–∞—Ç–µ–ª—å. –û–ø–∏—Å—ã–≤–∞–π –≤—Å—ë —Ç–∞–∫, —á—Ç–æ –±—ã –Ω–µ –æ—Å—Ç–∞–≤–∞–ª–æ—Å—å –≤–æ–ø—Ä–æ—Å–æ–≤ –ø–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—É. –ï—Å–ª–∏ –Ω—É–∂–Ω–æ, –∑–∞–¥–∞–≤–∞–π —É—Ç–æ—á–Ω—è—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã.
–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –¥–æ–ª–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å—Å—è –¢–ó.
–Ø –±—É–¥—É –æ–ø–∏—Å—ã–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å.

### **–¢–ó –¥–ª—è –∏–≥—Ä—ã "–ó–≤—É–∫–æ–≤–æ–π –ª–∞–±–∏—Ä–∏–Ω—Ç"**  

---  

#### **1. –í–≤–µ–¥–µ–Ω–∏–µ**  
–ò–≥—Ä–∞ "–ó–≤—É–∫–æ–≤–æ–π –ª–∞–±–∏—Ä–∏–Ω—Ç" ‚Äî —ç—Ç–æ –∞—É–¥–∏–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≥–æ–ª–æ–≤–æ–ª–æ–º–∫–∞, –≥–¥–µ –∏–≥—Ä–æ–∫ navigates —á–µ—Ä–µ–∑ procedurally generated –ª–∞–±–∏—Ä–∏–Ω—Ç, –∏—Å–ø–æ–ª—å–∑—É—è only –∑–≤—É–∫–æ–≤—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏.  

---  

#### **2. –û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ**  
- **–¶–µ–ª—å**: –î–æ–π—Ç–∏ –æ—Ç –≤—Ö–æ–¥–∞ –¥–æ –≤—ã—Ö–æ–¥–∞, –Ω–µ –≤–∏–¥—è –∫–∞—Ä—Ç—É.  
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:  
  - –õ–∞–±–∏—Ä–∏–Ω—Ç –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º –ü—Ä–∏–º–∞ (–≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –ø—Ä–æ—Ö–æ–¥–∏–º–æ—Å—Ç—å).  
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–∫–∞–º–∏ (—à–∞–≥–∏, –ø–æ–≤–æ—Ä–æ—Ç—ã).  
  - –ó–≤—É–∫–æ–≤–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –ø—Ä–∏ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è—Ö.  
  - –ü–æ—Å–ª–µ –ø–æ–±–µ–¥—ã/—Å–¥–∞—á–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–∞—Ä—Ç–∞ –∏ –ø—É—Ç—å –∏–≥—Ä–æ–∫–∞.  

---  

### **3. –î–µ—Ç–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è**  

#### **3.1. –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é**  
- **–≠–ª–µ–º–µ–Ω—Ç—ã**:  
  - –í—ã–±–æ—Ä —Ä–∞–∑–º–µ—Ä–∞ –ª–∞–±–∏—Ä–∏–Ω—Ç–∞ (–∫–Ω–æ–ø–∫–∏ –æ—Ç 2√ó2 –¥–æ 10√ó10).  
  - –ö–Ω–æ–ø–∫–∞ **"–°—Ç–∞—Ä—Ç"** (–∑–∞–ø—É—Å–∫–∞–µ—Ç –∏–≥—Ä—É).  
  - –ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –¥–∏–∑–∞–π–Ω (—Ç–µ–∫—Å—Ç + –∫–Ω–æ–ø–∫–∏).  

#### **3.2. –ò–≥—Ä–æ–≤–æ–π –ø—Ä–æ—Ü–µ—Å—Å**  
- **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ª–∞–±–∏—Ä–∏–Ω—Ç–∞**:  
  - –ê–ª–≥–æ—Ä–∏—Ç–º –ü—Ä–∏–º–∞.  
  - –í—Ö–æ–¥ = (0, 0), –≤—ã—Ö–æ–¥ = (N-1, N-1).  
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**:  
  - **–î–≤–∏–∂–µ–Ω–∏–µ**:  
    - –í–ø–µ—Ä–µ–¥ (`‚Üë`/`W`), –Ω–∞–∑–∞–¥ (`‚Üì`/`S`), –≤–ª–µ–≤–æ (`‚Üê`/`A`), –≤–ø—Ä–∞–≤–æ (`‚Üí`/`D`).  
  - **–ü–æ–≤–æ—Ä–æ—Ç**:  
    - –ù–∞–ø—Ä–∞–≤–æ (`R`), –Ω–∞–ª–µ–≤–æ (`L`).  
  - **–î—Ä—É–≥–∏–µ –∫–Ω–æ–ø–∫–∏**:  
    - **"–°–¥–∞—é—Å—å"** ‚Äî —Ä–∞—Å–∫—Ä—ã–≤–∞–µ—Ç –ª–∞–±–∏—Ä–∏–Ω—Ç.  
    - **"–ó–∞–Ω–æ–≤–æ"** ‚Äî —Ä–µ—Å—Ç–∞—Ä—Ç —É—Ä–æ–≤–Ω—è.  
- **–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å**:  
  - –ó–≤—É–∫ —É–¥–∞—Ä–∞ (`hit.wav`) –ø—Ä–∏ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–∏.  
  - –ó–≤—É–∫ —à–∞–≥–∞ (`step.wav`) –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –¥–≤–∏–∂–µ–Ω–∏–∏.  
  - –ó–≤—É–∫ –ø–æ–±–µ–¥—ã (`win.wav`) –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –≤—ã—Ö–æ–¥–∞.  

#### **3.3. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è**  
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è:  
  - –õ–∞–±–∏—Ä–∏–Ω—Ç (—Å—Ç–µ–Ω—ã ‚Äî —á–µ—Ä–Ω—ã–µ –ª–∏–Ω–∏–∏).  
  - –ü—É—Ç—å –∏–≥—Ä–æ–∫–∞ (–∑–µ–ª–µ–Ω–∞—è –ª–∏–Ω–∏—è).  
  - –í—Ö–æ–¥ (—Å–∏–Ω–∏–π) –∏ –≤—ã—Ö–æ–¥ (–∫—Ä–∞—Å–Ω—ã–π).  
  - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—á–∫–æ–≤ (—Ñ–æ—Ä–º—É–ª–∞ –Ω–∏–∂–µ).  
- –ö–Ω–æ–ø–∫–∞ **"–í –º–µ–Ω—é"** –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞.  

#### **3.4. –°–∏—Å—Ç–µ–º–∞ –æ—á–∫–æ–≤**  
```  
–û—á–∫–∏ = (N √ó 100) ‚àí (–®–∞–≥–∏ √ó 5) ‚àí (–°—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è √ó 10)  
```  
- `N` ‚Äî —Ä–∞–∑–º–µ—Ä –ª–∞–±–∏—Ä–∏–Ω—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 5 –¥–ª—è 5√ó5).  
- –ü—Ä–∏ —Å–¥–∞—á–µ –æ—á–∫–∏ = 0.  

---  

### **4. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —á–∞—Å—Ç—å**  

#### **4.1. –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**  
- Python + Pygame (–≥—Ä–∞—Ñ–∏–∫–∞, –∑–≤—É–∫, input handling).  

#### **4.2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞**  
```  
/sound_labyrinth  
‚îú‚îÄ‚îÄ assets/sounds/      # hit.wav, step.wav, win.wav  
‚îú‚îÄ‚îÄ src/  
‚îÇ   ‚îú‚îÄ‚îÄ main.py         # –ì–ª–∞–≤–Ω—ã–π —Ü–∏–∫–ª  
‚îÇ   ‚îú‚îÄ‚îÄ maze.py         # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ª–∞–±–∏—Ä–∏–Ω—Ç–∞ (–ü—Ä–∏–º)  
‚îÇ   ‚îú‚îÄ‚îÄ player.py       # –ü–æ–∑–∏—Ü–∏—è, –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ, –∫–æ–ª–ª–∏–∑–∏–∏  
‚îÇ   ‚îú‚îÄ‚îÄ ui.py           # –ö–Ω–æ–ø–∫–∏, —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Ç–µ–∫—Å—Ç–∞  
‚îÇ   ‚îî‚îÄ‚îÄ sounds.py       # –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ  
‚îî‚îÄ‚îÄ config.py           # –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã (—Ü–≤–µ—Ç–∞, —Ä–∞–∑–º–µ—Ä—ã)  
```  

#### **4.3. –ì—Ä–∞—Ñ–∏–∫–∞**  
- **–ò–≥—Ä–æ–≤–æ–π —ç–∫—Ä–∞–Ω**:  
  - –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (—Ç–µ–∫—Å—Ç–æ–≤—ã–µ –∏–ª–∏ –ø—Ä–æ—Å—Ç—ã–µ –∏–∫–æ–Ω–∫–∏).  
  - –ù–∞–¥–ø–∏—Å—å "–£—Ä–æ–≤–µ–Ω—å: N√óN".  
- **–≠–∫—Ä–∞–Ω –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è**:  
  - –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –ª–∞–±–∏—Ä–∏–Ω—Ç–∞ (–ª–∏–Ω–∏–∏), –ø—É—Ç–∏ (–∑–µ–ª–µ–Ω—ã–π), –≤—Ö–æ–¥–∞/–≤—ã—Ö–æ–¥–∞.  
  - –¢–µ–∫—Å—Ç: *"–û—á–∫–∏: X"*.  

---  

### **5. –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏**  
‚úÖ –õ–∞–±–∏—Ä–∏–Ω—Ç –≤—Å–µ–≥–¥–∞ –ø—Ä–æ—Ö–æ–¥–∏–º (—Ç–µ—Å—Ç: 100+ –≥–µ–Ω–µ—Ä–∞—Ü–∏–π –±–µ–∑ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∑–æ–Ω).  
‚úÖ –ó–≤—É–∫–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥—è—Ç—Å—è –±–µ–∑ –∑–∞–¥–µ—Ä–∂–µ–∫.  
‚úÖ –û—á–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å—á–∏—Ç–∞—é—Ç—Å—è –ø–æ —Ñ–æ—Ä–º—É–ª–µ.  
‚úÖ –†–µ—Å—Ç–∞—Ä—Ç —É—Ä–æ–≤–Ω—è —Ä–∞–±–æ—Ç–∞–µ—Ç (—Ç–æ—Ç –∂–µ –ª–∞–±–∏—Ä–∏–Ω—Ç).  

---  

–ì–æ—Ç–æ–≤ —É—Ç–æ—á–Ω–∏—Ç—å –ª—é–±—ã–µ –¥–µ—Ç–∞–ª–∏ –∏–ª–∏ –ø—Ä–∏—Å—Ç—É–ø–∏—Ç—å –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏! üéÆ

Me[2]
–Ω–∞–ø–∏—à–∏ –∫–æ–¥ –Ω–∞ —è–∑—ã–∫–µ python —Ñ–∞–π–ª–∞ maze.py
—Ç–∞–∫ –∂–µ –Ω–∞–ø–∏—à–∏ —Ç–µ—Å—Ç—ã –¥–ª—è –Ω–µ–≥–æ –∏ —Ä–∞—Å—Å–∫–∞–∂–∏ –∫–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∏—Ö

Ds[2]
### **–§–∞–π–ª `maze.py` (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ª–∞–±–∏—Ä–∏–Ω—Ç–∞ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º –ü—Ä–∏–º–∞)**  
```python
import random
from typing import List, Tuple

class MazeGenerator:
    def __init__(self, width: int, height: int):
        self.width = width
        self.height = height
        self.maze = [[1 for _ in range(width)] for _ in range(height)]  # 1 = —Å—Ç–µ–Ω–∞, 0 = –ø—Ä–æ—Ö–æ–¥

    def generate(self) -> List[List[int]]:
        """–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ª–∞–±–∏—Ä–∏–Ω—Ç —Å –≤—Ö–æ–¥–æ–º (0, 0) –∏ –≤—ã—Ö–æ–¥–æ–º (w-1, h-1)."""
        # –ù–∞—á–∞–ª—å–Ω–∞—è —Ç–æ—á–∫–∞ (–æ—Ç –Ω–µ–µ —Å—Ç—Ä–æ–∏–º –ª–∞–±–∏—Ä–∏–Ω—Ç)
        start_x, start_y = 0, 0
        self.maze[start_y][start_x] = 0
        walls = self._get_walls(start_x, start_y)

        while walls:
            # –í—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω—É—é —Å—Ç–µ–Ω—É
            wall_x, wall_y = random.choice(walls)
            walls.remove((wall_x, wall_y))

            # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –º–æ–∂–Ω–æ –ª–∏ –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å —Å—Ç–µ–Ω—É –≤ –ø—Ä–æ—Ö–æ–¥
            if self._is_valid_wall(wall_x, wall_y):
                self.maze[wall_y][wall_x] = 0
                walls.extend(self._get_walls(wall_x, wall_y))

        # –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ–º, —á—Ç–æ –≤—ã—Ö–æ–¥ (w-1, h-1) –ø—Ä–æ—Ö–æ–¥–∏–º
        self.maze[self.height - 1][self.width - 1] = 0
        return self.maze

    def _get_walls(self, x: int, y: int) -> List[Tuple[int, int]]:
        """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Å–æ—Å–µ–¥–Ω–∏—Ö —Å—Ç–µ–Ω –¥–ª—è –∫–ª–µ—Ç–∫–∏ (x, y)."""
        directions = [(0, 1), (1, 0), (0, -1), (-1, 0)]
        walls = []
        for dx, dy in directions:
            nx, ny = x + dx, y + dy
            if 0 <= nx < self.width and 0 <= ny < self.height and self.maze[ny][nx] == 1:
                walls.append((nx, ny))
        return walls

    def _is_valid_wall(self, x: int, y: int) -> bool:
        """–ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –º–æ–∂–Ω–æ –ª–∏ –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å —Å—Ç–µ–Ω—É (x, y) –≤ –ø—Ä–æ—Ö–æ–¥."""
        # –°—á–∏—Ç–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ—Å–µ–¥–Ω–∏—Ö –ø—Ä–æ—Ö–æ–¥–æ–≤
        directions = [(0, 1), (1, 0), (0, -1), (-1, 0)]
        passages = 0
        for dx, dy in directions:
            nx, ny = x + dx, y + dy
            if 0 <= nx < self.width and 0 <= ny < self.height and self.maze[ny][nx] == 0:
                passages += 1
                if passages > 1:
                    return False  # –ù–µ–ª—å–∑—è —Å–æ–∑–¥–∞—Ç—å –ø–µ—Ç–ª—é
        return passages == 1  # –¢–æ–ª—å–∫–æ 1 —Å–æ—Å–µ–¥–Ω–∏–π –ø—Ä–æ—Ö–æ–¥

    def get_start_end(self) -> Tuple[Tuple[int, int], Tuple[int, int]]:
        """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤—Ö–æ–¥–∞ (0, 0) –∏ –≤—ã—Ö–æ–¥–∞ (w-1, h-1)."""
        return (0, 0), (self.width - 1, self.height - 1)
```

---

### **–¢–µ—Å—Ç—ã –¥–ª—è `maze.py` (—Ñ–∞–π–ª `test_maze.py`)**  
```python
import unittest
from maze import MazeGenerator

class TestMazeGenerator(unittest.TestCase):
    def setUp(self):
        self.size = 5
        self.maze_gen = MazeGenerator(self.size, self.size)

    def test_generation(self):
        """–ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –ª–∞–±–∏—Ä–∏–Ω—Ç –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ."""
        maze = self.maze_gen.generate()
        self.assertEqual(len(maze), self.size)
        self.assertEqual(len(maze[0]), self.size)

        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ö–æ–¥–∞ –∏ –≤—ã—Ö–æ–¥–∞
        start, end = self.maze_gen.get_start_end()
        self.assertEqual(maze[start[1]][start[0]], 0)
        self.assertEqual(maze[end[1]][end[0]], 0)

    def test_no_isolated_areas(self):
        """–ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –Ω–µ—Ç –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –æ–±–ª–∞—Å—Ç–µ–π (–ª–∞–±–∏—Ä–∏–Ω—Ç –ø—Ä–æ—Ö–æ–¥–∏–º)."""
        maze = self.maze_gen.generate()
        visited = [[False for _ in range(self.size)] for _ in range(self.size)]
        stack = [self.maze_gen.get_start_end()[0]]  # –ù–∞—á–∏–Ω–∞–µ–º —Å –≤—Ö–æ–¥–∞

        # DFS –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç–∏–∂–∏–º–æ—Å—Ç–∏ –≤—ã—Ö–æ–¥–∞
        while stack:
            x, y = stack.pop()
            if (x, y) == self.maze_gen.get_start_end()[1]:
                break  # –í—ã—Ö–æ–¥ –Ω–∞–π–¥–µ–Ω
            if visited[y][x]:
                continue
            visited[y][x] = True
            for dx, dy in [(0, 1), (1, 0), (0, -1), (-1, 0)]:
                nx, ny = x + dx, y + dy
                if 0 <= nx < self.size and 0 <= ny < self.size and maze[ny][nx] == 0:
                    stack.append((nx, ny))
        else:
            self.fail("–í—ã—Ö–æ–¥ –Ω–µ–¥–æ—Å—Ç–∏–∂–∏–º!")

if __name__ == "__main__":
    unittest.main()
```

---

### **–ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã?**  
1. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–æ–¥:  
   - `maze.py` ‚Äî –≤ –ø–∞–ø–∫—É `/src/`.  
   - `test_maze.py` ‚Äî –≤ –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞ –∏–ª–∏ –ø–∞–ø–∫—É `/tests/` (–µ—Å–ª–∏ –æ–Ω–∞ –µ—Å—Ç—å).  

2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç—ã –∫–æ–º–∞–Ω–¥–æ–π:  
   ```bash
   python -m unittest test_maze.py
   ```
   –∏–ª–∏ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ `pytest`):  
   ```bash
   pytest test_maze.py -v
   ```

3. **–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥**:  
   ```
   ..
   ----------------------------------------------------------------------
   Ran 2 tests in 0.001s
   OK
   ```

---

### **–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è—é—Ç —Ç–µ—Å—Ç—ã?**  
1. **–ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏**:  
   - –õ–∞–±–∏—Ä–∏–Ω—Ç –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä.  
   - –í—Ö–æ–¥ –∏ –≤—ã—Ö–æ–¥ ‚Äî –ø—Ä–æ—Ö–æ–¥–∏–º—ã–µ –∫–ª–µ—Ç–∫–∏ (`0`).  

2. **–ü—Ä–æ—Ö–æ–¥–∏–º–æ—Å—Ç—å –ª–∞–±–∏—Ä–∏–Ω—Ç–∞**:  
   - –ê–ª–≥–æ—Ä–∏—Ç–º DFS –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –æ—Ç –≤—Ö–æ–¥–∞ –º–æ–∂–Ω–æ –¥–æ–±—Ä–∞—Ç—å—Å—è –¥–æ –≤—ã—Ö–æ–¥–∞.  

3. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∑–æ–Ω**:  
   - –í—Å–µ –ø—Ä–æ—Ö–æ–¥–∏–º—ã–µ –∫–ª–µ—Ç–∫–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω—ã.  

---

### **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è**  
- **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏**:  
  –î–æ–±–∞–≤—å—Ç–µ –º–µ—Ç–æ–¥ `print_maze()` –≤ `MazeGenerator`:  
  ```python
  def print_maze(self):
      for row in self.maze:
          print(" ".join("‚ñà" if cell == 1 else " " for cell in row))
  ```
  –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:  
  ```python
  mg = MazeGenerator(5, 5)
  mg.generate()
  mg.print_maze()
  ```

- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**:  
  –î–ª—è –±–æ–ª—å—à–∏—Ö –ª–∞–±–∏—Ä–∏–Ω—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 100√ó100) –º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å `random.choice` –Ω–∞ –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã.  

–ï—Å–ª–∏ –Ω—É–∂–Ω—ã –ø–æ—è—Å–Ω–µ–Ω–∏—è –ø–æ –∫–æ–¥—É –∏–ª–∏ —Ç–µ—Å—Ç–∞–º ‚Äî —Å–ø—Ä–∞—à–∏–≤–∞–π—Ç–µ!


Me[3]
–Ω–∞–ø–∏—à–∏ –∫–æ–¥ –¥–ª—è main.py

Ds[3]
### **–§–∞–π–ª `main.py` ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –∏–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª**
```python
import pygame
import sys
from maze import MazeGenerator
from pygame import mixer

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Pygame
pygame.init()
mixer.init()

# –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã
SCREEN_WIDTH = 800
SCREEN_HEIGHT = 600
CELL_SIZE = 40
WHITE = (255, 255, 255)
BLACK = (0, 0, 0)
GREEN = (0, 255, 0)
RED = (255, 0, 0)
BLUE = (0, 0, 255)

class SoundLabGame:
    def __init__(self):
        self.screen = pygame.display.set_mode((SCREEN_WIDTH, SCREEN_HEIGHT))
        pygame.display.set_caption("–ó–≤—É–∫–æ–≤–æ–π –ª–∞–±–∏—Ä–∏–Ω—Ç")
        self.clock = pygame.time.Clock()
        self.font = pygame.font.SysFont(None, 36)
        
        # –ò–≥—Ä–æ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        self.maze_size = 5  # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é
        self.maze = None
        self.player_pos = [0, 0]
        self.player_dir = 0  # 0: –≤–≤–µ—Ä—Ö, 1: –≤–ø—Ä–∞–≤–æ, 2: –≤–Ω–∏–∑, 3: –≤–ª–µ–≤–æ
        self.path = []
        self.game_state = "menu"  # menu/game/end
        self.steps = 0
        self.collisions = 0
        
        # –ó–∞–≥—Ä—É–∑–∫–∞ –∑–≤—É–∫–æ–≤
        self.sounds = {
            "hit": mixer.Sound("assets/sounds/hit.wav"),
            "step": mixer.Sound("assets/sounds/step.wav"),
            "win": mixer.Sound("assets/sounds/win.wav")
        }
    
    def generate_maze(self):
        """–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –Ω–æ–≤—ã–π –ª–∞–±–∏—Ä–∏–Ω—Ç"""
        generator = MazeGenerator(self.maze_size, self.maze_size)
        self.maze = generator.generate()
        start, end = generator.get_start_end()
        self.player_pos = list(start)
        self.path = [tuple(self.player_pos)]
        self.steps = 0
        self.collisions = 0
    
    def handle_movement(self, direction):
        """–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –¥–≤–∏–∂–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–∞"""
        dx, dy = 0, 0
        if direction == "forward":
            if self.player_dir == 0: dy = -1
            elif self.player_dir == 1: dx = 1
            elif self.player_dir == 2: dy = 1
            else: dx = -1
        elif direction == "backward":
            if self.player_dir == 0: dy = 1
            elif self.player_dir == 1: dx = -1
            elif self.player_dir == 2: dy = -1
            else: dx = 1
        
        new_x, new_y = self.player_pos[0] + dx, self.player_pos[1] + dy
        
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è —Å–æ —Å—Ç–µ–Ω–æ–π
        if (0 <= new_x < self.maze_size and 0 <= new_y < self.maze_size 
            and self.maze[new_y][new_x] == 0):
            self.player_pos = [new_x, new_y]
            self.path.append(tuple(self.player_pos))
            self.steps += 1
            self.sounds["step"].play()
            
            # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–±–µ–¥—ã
            if (new_x, new_y) == (self.maze_size-1, self.maze_size-1):
                self.sounds["win"].play()
                self.game_state = "end"
        else:
            self.collisions += 1
            self.sounds["hit"].play()
    
    def draw_menu(self):
        """–û—Ç—Ä–∏—Å–æ–≤–∫–∞ –º–µ–Ω—é –≤—ã–±–æ—Ä–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏"""
        self.screen.fill(WHITE)
        title = self.font.render("–ó–≤—É–∫–æ–≤–æ–π –ª–∞–±–∏—Ä–∏–Ω—Ç", True, BLACK)
        self.screen.blit(title, (SCREEN_WIDTH//2 - title.get_width()//2, 50))
        
        for i in range(2, 11):
            btn_rect = pygame.Rect(SCREEN_WIDTH//2 - 100, 100 + i*40, 200, 30)
            pygame.draw.rect(self.screen, BLUE, btn_rect)
            text = self.font.render(f"–£—Ä–æ–≤–µ–Ω—å {i}x{i}", True, WHITE)
            self.screen.blit(text, (btn_rect.centerx - text.get_width()//2, 
                             btn_rect.centery - text.get_height()//2))
            
            if btn_rect.collidepoint(pygame.mouse.get_pos()):
                pygame.draw.rect(self.screen, (0, 100, 255), btn_rect, 2)
                if pygame.mouse.get_pressed()[0]:
                    self.maze_size = i
                    self.generate_maze()
                    self.game_state = "game"
    
    def draw_game(self):
        """–û—Ç—Ä–∏—Å–æ–≤–∫–∞ –∏–≥—Ä–æ–≤–æ–≥–æ —ç–∫—Ä–∞–Ω–∞"""
        self.screen.fill(WHITE)
        # –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –∫–Ω–æ–ø–æ–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
        controls = ["–í–ø–µ—Ä–µ–¥", "–ù–∞–∑–∞–¥", "–í–ª–µ–≤–æ", "–í–ø—Ä–∞–≤–æ", "–ü–æ–≤–æ—Ä–æ—Ç L", "–ü–æ–≤–æ—Ä–æ—Ç R"]
        for i, control in enumerate(controls):
            btn_rect = pygame.Rect(50 + (i%3)*120, 450 + (i//3)*50, 100, 40)
            pygame.draw.rect(self.screen, BLUE, btn_rect)
            text = self.font.render(control, True, WHITE)
            self.screen.blit(text, (btn_rect.centerx - text.get_width()//2, 
                             btn_rect.centery - text.get_height()//2))
        
        # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
        info = self.font.render(f"–®–∞–≥–∏: {self.steps} | –°—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è: {self.collisions}", 
                              True, BLACK)
        self.screen.blit(info, (20, 20))
    
    def draw_end(self):
        """–û—Ç—Ä–∏—Å–æ–≤–∫–∞ —ç–∫—Ä–∞–Ω–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è"""
        self.screen.fill(WHITE)
        
        # –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –ª–∞–±–∏—Ä–∏–Ω—Ç–∞
        maze_size = min(SCREEN_WIDTH, SCREEN_HEIGHT) - 100
        cell_size = maze_size // self.maze_size
        offset_x = (SCREEN_WIDTH - maze_size) // 2
        offset_y = (SCREEN_HEIGHT - maze_size) // 2
        
        for y in range(self.maze_size):
            for x in range(self.maze_size):
                rect = pygame.Rect(offset_x + x*cell_size, 
                                  offset_y + y*cell_size, 
                                  cell_size, cell_size)
                
                if self.maze[y][x] == 1:  # –°—Ç–µ–Ω–∞
                    pygame.draw.rect(self.screen, BLACK, rect)
                else:  # –ü—Ä–æ—Ö–æ–¥
                    pygame.draw.rect(self.screen, WHITE, rect, 1)
        
        # –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –ø—É—Ç–∏
        for i in range(1, len(self.path)):
            x1, y1 = self.path[i-1]
            x2, y2 = self.path[i]
            pygame.draw.line(self.screen, GREEN, 
                            (offset_x + x1*cell_size + cell_size//2, 
                             offset_y + y1*cell_size + cell_size//2),
                            (offset_x + x2*cell_size + cell_size//2, 
                             offset_y + y2*cell_size + cell_size//2), 3)
        
        # –û—á–∫–∏
        score = (self.maze_size * 100) - (self.steps * 5) - (self.collisions * 10)
        score_text = self.font.render(f"–û—á–∫–∏: {score}", True, BLACK)
        self.screen.blit(score_text, (SCREEN_WIDTH//2 - score_text.get_width()//2, 20))
        
        # –ö–Ω–æ–ø–∫–∞ "–í –º–µ–Ω—é"
        btn_rect = pygame.Rect(SCREEN_WIDTH//2 - 100, SCREEN_HEIGHT - 80, 200, 50)
        pygame.draw.rect(self.screen, BLUE, btn_rect)
        text = self.font.render("–í –º–µ–Ω—é", True, WHITE)
        self.screen.blit(text, (btn_rect.centerx - text.get_width()//2, 
                             btn_rect.centery - text.get_height()//2))
        
        if btn_rect.collidepoint(pygame.mouse.get_pos()):
            pygame.draw.rect(self.screen, (0, 100, 255), btn_rect, 2)
            if pygame.mouse.get_pressed()[0]:
                self.game_state = "menu"
    
    def run(self):
        """–û—Å–Ω–æ–≤–Ω–æ–π –∏–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª"""
        running = True
        while running:
            for event in pygame.event.get():
                if event.type == pygame.QUIT:
                    running = False
                
                if self.game_state == "game" and event.type == pygame.KEYDOWN:
                    if event.key == pygame.K_w:
                        self.handle_movement("forward")
                    elif event.key == pygame.K_s:
                        self.handle_movement("backward")
                    elif event.key == pygame.K_a:
                        self.handle_movement("left")
                    elif event.key == pygame.K_d:
                        self.handle_movement("right")
                    elif event.key == pygame.K_q:
                        self.player_dir = (self.player_dir - 1) % 4
                    elif event.key == pygame.K_e:
                        self.player_dir = (self.player_dir + 1) % 4
                    elif event.key == pygame.K_ESCAPE:
                        self.game_state = "end"
            
            # –û—Ç—Ä–∏—Å–æ–≤–∫–∞
            if self.game_state == "menu":
                self.draw_menu()
            elif self.game_state == "game":
                self.draw_game()
            elif self.game_state == "end":
                self.draw_end()
            
            pygame.display.flip()
            self.clock.tick(60)
        
        pygame.quit()
        sys.exit()

if __name__ == "__main__":
    game = SoundLabGame()
    game.run()
```

### **–ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∏–≥—Ä—É:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   ```bash
   pip install pygame
   ```

2. –°–æ–∑–¥–∞–π—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–æ–∫:
   ```
   /soundlab
   ‚îú‚îÄ‚îÄ /assets
   ‚îÇ   ‚îî‚îÄ‚îÄ /sounds
   ‚îÇ       ‚îú‚îÄ‚îÄ hit.wav
   ‚îÇ       ‚îú‚îÄ‚îÄ step.wav
   ‚îÇ       ‚îî‚îÄ‚îÄ win.wav
   ‚îú‚îÄ‚îÄ /src
   ‚îÇ   ‚îú‚îÄ‚îÄ maze.py
   ‚îÇ   ‚îî‚îÄ‚îÄ main.py
   ```

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∏–≥—Ä—É:
   ```bash
   python src/main.py
   ```

### **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤ –∏–≥—Ä–µ:**
- **W/S/A/D** ‚Äî –¥–≤–∏–∂–µ–Ω–∏–µ –≤–ø–µ—Ä–µ–¥/–Ω–∞–∑–∞–¥/–≤–ª–µ–≤–æ/–≤–ø—Ä–∞–≤–æ
- **Q/E** ‚Äî –ø–æ–≤–æ—Ä–æ—Ç –Ω–∞–ª–µ–≤–æ/–Ω–∞–ø—Ä–∞–≤–æ
- **ESC** ‚Äî —Å–¥–∞—Ç—å—Å—è –∏ –ø–æ–∫–∞–∑–∞—Ç—å –ª–∞–±–∏—Ä–∏–Ω—Ç
- –í –º–µ–Ω—é ‚Äî –≤—ã–±–æ—Ä —É—Ä–æ–≤–Ω—è —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ (—Ä–∞–∑–º–µ—Ä–∞ –ª–∞–±–∏—Ä–∏–Ω—Ç–∞)

### **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:**
1. –¢—Ä–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–≥—Ä—ã (`menu`, `game`, `end`)
2. –°–∏—Å—Ç–µ–º–∞ –ø–æ–¥—Å—á–µ—Ç–∞ –æ—á–∫–æ–≤ –ø–æ —Ñ–æ—Ä–º—É–ª–µ
3. –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø—É—Ç–∏ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —É—Ä–æ–≤–Ω—è
4. –ó–≤—É–∫–æ–≤–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –ø—Ä–∏ –¥–≤–∏–∂–µ–Ω–∏—è—Ö –∏ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è—Ö

–î–ª—è —Ä–∞–±–æ—Ç—ã –∏–≥—Ä—ã –≤–∞–º –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è –∑–≤—É–∫–æ–≤—ã–µ —Ñ–∞–π–ª—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ `.wav`. –í—ã –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞—Ç—å –∏—Ö —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –∑–≤—É–∫–∏ –∏–∑ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤.

Me[4]
from maze import MazeGenerator
–Ω–µ –≤–∏–¥–∏—Ç –¥–∞–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞. —Å–∞–º —Ñ–∞–π–ª –ª–µ–∂–∏—Ç –≤ ../src/

Ds[4]
–ß—Ç–æ–±—ã —Ä–µ—à–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É —Å –∏–º–ø–æ—Ä—Ç–æ–º `maze.py`, –Ω—É–∂–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å Python-–ø—É—Ç–∏. –í–æ—Ç –∫–∞–∫ —ç—Ç–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å:

### 1. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞
```
/soundlab
‚îú‚îÄ‚îÄ /src
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py     # –ü—É—Å—Ç–æ–π —Ñ–∞–π–ª –¥–ª—è –ø—Ä–µ–≤—Ä–∞—â–µ–Ω–∏—è –ø–∞–ø–∫–∏ –≤ –ø–∞–∫–µ—Ç
‚îÇ   ‚îú‚îÄ‚îÄ maze.py
‚îÇ   ‚îî‚îÄ‚îÄ main.py
‚îî‚îÄ‚îÄ /assets
    ‚îî‚îÄ‚îÄ /sounds
        ‚îú‚îÄ‚îÄ hit.wav
        ‚îú‚îÄ‚îÄ step.wav
        ‚îî‚îÄ‚îÄ win.wav
```

### 2. –ò–∑–º–µ–Ω–∏—Ç–µ –∏–º–ø–æ—Ä—Ç –≤ `main.py`
–ó–∞–º–µ–Ω–∏—Ç–µ —Å—Ç—Ä–æ–∫—É –∏–º–ø–æ—Ä—Ç–∞ –Ω–∞ –æ–¥–∏–Ω –∏–∑ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤:

**–í–∞—Ä–∏–∞–Ω—Ç 1 (–æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –∏–º–ø–æ—Ä—Ç):**
```python
from .maze import MazeGenerator
```

**–í–∞—Ä–∏–∞–Ω—Ç 2 (–∞–±—Å–æ–ª—é—Ç–Ω—ã–π –∏–º–ø–æ—Ä—Ç —Å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –ø—É—Ç–∏):**
```python
import sys
from pathlib import Path

# –î–æ–±–∞–≤–ª—è–µ–º –ø–∞–ø–∫—É src –≤ PYTHONPATH
sys.path.append(str(Path(__file__).parent))
from src.maze import MazeGenerator
```

### 3. –ó–∞–ø—É—Å–∫–∞–π—Ç–µ –∏–≥—Ä—É –ø—Ä–∞–≤–∏–ª—å–Ω–æ

**–°–ø–æ—Å–æ–± 1 (–∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞):**
```bash
cd /soundlab
python -m src.main
```

**–°–ø–æ—Å–æ–± 2 (—Å —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π –ø–∞–∫–µ—Ç–∞):**
1. –°–æ–∑–¥–∞–π—Ç–µ `setup.py` –≤ –∫–æ—Ä–Ω–µ:
```python
from setuptools import setup, find_packages

setup(
    name="soundlab",
    version="0.1",
    packages=find_packages(),
)
```

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–∞–∫–µ—Ç –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
```bash
pip install -e .
```

3. –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –∏–∑ –ª—é–±–æ–≥–æ –º–µ—Å—Ç–∞:
```bash
python -m src.main
```

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ (–µ—Å–ª–∏ –Ω–µ —Ö–æ—Ç–∏—Ç–µ –¥–µ–ª–∞—Ç—å –ø–∞–∫–µ—Ç)
–ü—Ä–æ—Å—Ç–æ –∏–∑–º–µ–Ω–∏—Ç–µ –∏–º–ø–æ—Ä—Ç –≤ `main.py` –Ω–∞:
```python
try:
    from maze import MazeGenerator
except ImportError:
    from src.maze import MazeGenerator
```

### –ü–æ—á–µ–º—É —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?
- –ü—É—Å—Ç–æ–π `__init__.py` –¥–µ–ª–∞–µ—Ç –ø–∞–ø–∫—É Python-–ø–∞–∫–µ—Ç–æ–º
- –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ `-m` –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—É—Ç–∏ –∏–º–ø–æ—Ä—Ç–∞
- `sys.path` –ø–æ–∑–≤–æ–ª—è–µ—Ç Python –Ω–∞—Ö–æ–¥–∏—Ç—å –≤–∞—à–∏ –º–æ–¥—É–ª–∏

–ï—Å–ª–∏ –ø–æ—Å–ª–µ —ç—Ç–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –æ—Å—Ç–∞—é—Ç—Å—è –ø—Ä–æ–±–ª–µ–º—ã:
1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤ –ø–∞–ø–∫–µ `/src/` –µ—Å—Ç—å `__init__.py`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ –∏–∑ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
3. –î–ª—è IDE —Ç–∏–ø–∞ PyCharm - –ø–æ–º–µ—Ç—å—Ç–µ `/src/` –∫–∞–∫ Sources Root


######
–ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –ø–æ –ª–∞–±–∏—Ä–∏–Ω—Ç—É —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
######

Me[5]
–¥–∞–≤–∞–π –≤—Ä–µ–º–µ–Ω–Ω–æ —Å–¥–µ–ª–∞–µ–º —Ç–∞–∫, —á—Ç–æ –±—ã –ª–∞–±–∏—Ä–∏–Ω—Ç –±—ã–ª –≤–∏–¥–∏–º—ã–º

Ds[5]
–û—Ç–ª–∏—á–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è! –í–æ—Ç –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥ `main.py`, –≥–¥–µ –ª–∞–±–∏—Ä–∏–Ω—Ç –≤—Å–µ–≥–¥–∞ –≤–∏–¥–µ–Ω (–Ω–æ –º–µ—Ö–∞–Ω–∏–∫–∞ –∑–≤—É–∫–æ–≤ –∏ "—Å–ª–µ–ø–æ–≥–æ" –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è):

### **–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π `main.py` —Å –≤–∏–¥–∏–º—ã–º –ª–∞–±–∏—Ä–∏–Ω—Ç–æ–º**
```python
import pygame
import sys
from pathlib import Path

# –î–æ–±–∞–≤–ª—è–µ–º –ø—É—Ç—å –∫ src –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞
sys.path.append(str(Path(__file__).parent.parent))
from src.maze import MazeGenerator

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Pygame
pygame.init()
pygame.mixer.init()

# –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã
SCREEN_WIDTH = 800
SCREEN_HEIGHT = 600
CELL_SIZE = 40
WHITE = (255, 255, 255)
BLACK = (0, 0, 0)
GREEN = (0, 255, 0)
RED = (255, 0, 0)
BLUE = (0, 0, 255)
GRAY = (200, 200, 200)  # –¶–≤–µ—Ç "–Ω–µ–≤–∏–¥–∏–º—ã—Ö" —Å—Ç–µ–Ω

class SoundLabGame:
    def __init__(self):
        self.screen = pygame.display.set_mode((SCREEN_WIDTH, SCREEN_HEIGHT))
        pygame.display.set_caption("–ó–≤—É–∫–æ–≤–æ–π –ª–∞–±–∏—Ä–∏–Ω—Ç (–í–∏–¥–∏–º—ã–π —Ä–µ–∂–∏–º)")
        self.clock = pygame.time.Clock()
        self.font = pygame.font.SysFont(None, 36)
        
        # –ò–≥—Ä–æ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        self.maze_size = 5
        self.maze = None
        self.player_pos = [0, 0]
        self.player_dir = 0  # 0: –≤–≤–µ—Ä—Ö, 1: –≤–ø—Ä–∞–≤–æ, 2: –≤–Ω–∏–∑, 3: –≤–ª–µ–≤–æ
        self.path = []
        self.game_state = "menu"
        self.steps = 0
        self.collisions = 0
        self.visible_maze = True  # –§–ª–∞–≥ –≤–∏–¥–∏–º–æ—Å—Ç–∏ –ª–∞–±–∏—Ä–∏–Ω—Ç–∞

    def generate_maze(self):
        """–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –Ω–æ–≤—ã–π –ª–∞–±–∏—Ä–∏–Ω—Ç"""
        generator = MazeGenerator(self.maze_size, self.maze_size)
        self.maze = generator.generate()
        start, end = generator.get_start_end()
        self.player_pos = list(start)
        self.path = [tuple(self.player_pos)]

    def handle_movement(self, direction):
        """–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –¥–≤–∏–∂–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–∞"""
        dx, dy = 0, 0
        if direction == "forward":
            if self.player_dir == 0: dy = -1
            elif self.player_dir == 1: dx = 1
            elif self.player_dir == 2: dy = 1
            else: dx = -1
        
        new_x, new_y = self.player_pos[0] + dx, self.player_pos[1] + dy
        
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è
        if (0 <= new_x < self.maze_size and 0 <= new_y < self.maze_size 
            and self.maze[new_y][new_x] == 0):
            self.player_pos = [new_x, new_y]
            self.path.append(tuple(self.player_pos))
            self.steps += 1
            # –ó–≤—É–∫ —à–∞–≥–∞ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–∑–∂–µ
        else:
            self.collisions += 1
            # –ó–≤—É–∫ —É–¥–∞—Ä–∞ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–∑–∂–µ

    def draw_game(self):
        """–û—Ç—Ä–∏—Å–æ–≤–∫–∞ –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è —Å –≤–∏–¥–∏–º—ã–º –ª–∞–±–∏—Ä–∏–Ω—Ç–æ–º"""
        self.screen.fill(WHITE)
        
        # –†–∞—Å—Å—á–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏
        maze_width = self.maze_size * CELL_SIZE
        offset_x = (SCREEN_WIDTH - maze_width) // 2
        offset_y = (SCREEN_HEIGHT - maze_width) // 2
        
        # –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –ª–∞–±–∏—Ä–∏–Ω—Ç–∞
        for y in range(self.maze_size):
            for x in range(self.maze_size):
                rect = pygame.Rect(
                    offset_x + x * CELL_SIZE,
                    offset_y + y * CELL_SIZE,
                    CELL_SIZE, CELL_SIZE
                )
                if self.maze[y][x] == 1:  # –°—Ç–µ–Ω–∞
                    pygame.draw.rect(self.screen, GRAY, rect)
                else:  # –ü—Ä–æ—Ö–æ–¥
                    pygame.draw.rect(self.screen, WHITE, rect)
                pygame.draw.rect(self.screen, BLACK, rect, 1)  # –°–µ—Ç–∫–∞
        
        # –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –∏–≥—Ä–æ–∫–∞
        player_rect = pygame.Rect(
            offset_x + self.player_pos[0] * CELL_SIZE + CELL_SIZE//4,
            offset_y + self.player_pos[1] * CELL_SIZE + CELL_SIZE//4,
            CELL_SIZE//2, CELL_SIZE//2
        )
        pygame.draw.rect(self.screen, RED, player_rect)
        
        # –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–≥—Ä–æ–∫–∞
        dir_points = {
            0: [(CELL_SIZE//2, CELL_SIZE//4), (CELL_SIZE//4, 3*CELL_SIZE//4), 
                (3*CELL_SIZE//4, 3*CELL_SIZE//4)],
            1: [(3*CELL_SIZE//4, CELL_SIZE//2), (CELL_SIZE//4, CELL_SIZE//4), 
                (CELL_SIZE//4, 3*CELL_SIZE//4)],
            2: [(CELL_SIZE//2, 3*CELL_SIZE//4), (CELL_SIZE//4, CELL_SIZE//4), 
                (3*CELL_SIZE//4, CELL_SIZE//4)],
            3: [(CELL_SIZE//4, CELL_SIZE//2), (3*CELL_SIZE//4, CELL_SIZE//4), 
                (3*CELL_SIZE//4, 3*CELL_SIZE//4)]
        }
        points = [
            (offset_x + self.player_pos[0] * CELL_SIZE + x,
             offset_y + self.player_pos[1] * CELL_SIZE + y)
            for x, y in dir_points[self.player_dir]
        ]
        pygame.draw.polygon(self.screen, BLUE, points)
        
        # –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
        info_text = f"–®–∞–≥–∏: {self.steps} | –°—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è: {self.collisions}"
        text_surface = self.font.render(info_text, True, BLACK)
        self.screen.blit(text_surface, (20, 20))

    def run(self):
        """–û—Å–Ω–æ–≤–Ω–æ–π –∏–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª"""
        self.generate_maze()
        running = True
        while running:
            for event in pygame.event.get():
                if event.type == pygame.QUIT:
                    running = False
                
                if event.type == pygame.KEYDOWN:
                    if event.key == pygame.K_w:
                        self.handle_movement("forward")
                    elif event.key == pygame.K_r:  # –†–µ—Å—Ç–∞—Ä—Ç
                        self.generate_maze()
                        self.steps = 0
                        self.collisions = 0
            
            self.draw_game()
            pygame.display.flip()
            self.clock.tick(60)
        
        pygame.quit()
        sys.exit()

if __name__ == "__main__":
    game = SoundLabGame()
    game.run()
```

### **–ö–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
1. **–í–∏–¥–∏–º—ã–π –ª–∞–±–∏—Ä–∏–Ω—Ç**:
   - –í—Å–µ —Å—Ç–µ–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Å–µ—Ä—ã–º —Ü–≤–µ—Ç–æ–º (`GRAY`)
   - –ü—Ä–æ—Ö–æ–¥—ã ‚Äî –±–µ–ª—ã–º
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–µ—Ç–∫–∞ –¥–ª—è –ª—É—á—à–µ–π –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏

2. **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä–æ–∫–∞**:
   - –ö—Ä–∞—Å–Ω—ã–π –∫–≤–∞–¥—Ä–∞—Ç ‚Äî –ø–æ–∑–∏—Ü–∏—è –∏–≥—Ä–æ–∫–∞
   - –°–∏–Ω–∏–π —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫ ‚Äî –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∑–≥–ª—è–¥–∞

3. **–£–ø—Ä–æ—â–µ–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**:
   - `W` ‚Äî –¥–≤–∏–∂–µ–Ω–∏–µ –≤–ø–µ—Ä–µ–¥
   - `R` ‚Äî —Ä–µ—Å—Ç–∞—Ä—Ç —É—Ä–æ–≤–Ω—è

4. **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏**:
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —à–∞–≥–æ–≤
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–π

### **–ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å:**
1. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–æ–¥ –≤ `src/main.py`
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞:
   ```bash
   python src/main.py
   ```

### **–ß—Ç–æ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:**
- –ö–Ω–æ–ø–∫–∏ –ø–æ–≤–æ—Ä–æ—Ç–∞ (`A/D` –¥–ª—è –ø–æ–≤–æ—Ä–æ—Ç–∞)
- –ó–≤—É–∫–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã (—à–∞–≥–∏/—É–¥–∞—Ä—ã)
- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É "—Å–ª–µ–ø—ã–º" –∏ –≤–∏–¥–∏–º—ã–º —Ä–µ–∂–∏–º–∞–º–∏ (–ø–æ –∫–ª–∞–≤–∏—à–µ `V`)

–≠—Ç–æ—Ç –≤–∞—Ä–∏–∞–Ω—Ç –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –º–µ—Ö–∞–Ω–∏–∫ –ø–µ—Ä–µ–¥ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π "—Å–ª–µ–ø–æ–≥–æ" —Ä–µ–∂–∏–º–∞!

#####
–í–∏–∂—É –ø—Ä–æ–±–ª–µ–º—É
#####

Me[6]
–Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–Ω–æ–ø–∫–∏ —à–∞–≥ –≤–ø—Ä–∞–≤–æ, —à–∞–≥ –≤–ª–µ–≤–æ
–∑–≤—É–∫ —à–∞–≥–∞ —Ä–∞–∑–¥–∞–µ—Ç—Å—è, –Ω–æ –∏–≥—Ä–æ–∫ –Ω–µ –ø–µ—Ä–µ–º–µ—â–∞–µ—Ç—Å—è

Ds[6]
### **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –∫–æ–¥ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è –≤–ª–µ–≤–æ/–≤–ø—Ä–∞–≤–æ**

–ü—Ä–æ–±–ª–µ–º–∞ –≤ —Ç–æ–º, —á—Ç–æ –≤ —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ `handle_movement` –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ –¥–≤–∏–∂–µ–Ω–∏—è –≤–ª–µ–≤–æ/–≤–ø—Ä–∞–≤–æ. –í–æ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è:

```python
def handle_movement(self, direction):
    """–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –¥–≤–∏–∂–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–∞"""
    dx, dy = 0, 0
    
    if direction == "forward":
        if self.player_dir == 0: dy = -1    # –í–≤–µ—Ä—Ö
        elif self.player_dir == 1: dx = 1   # –í–ø—Ä–∞–≤–æ
        elif self.player_dir == 2: dy = 1   # –í–Ω–∏–∑
        elif self.player_dir == 3: dx = -1  # –í–ª–µ–≤–æ
    
    elif direction == "backward":
        if self.player_dir == 0: dy = 1     # –í–Ω–∏–∑ (–ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω–æ –≤–ø–µ—Ä–µ–¥)
        elif self.player_dir == 1: dx = -1  # –í–ª–µ–≤–æ
        elif self.player_dir == 2: dy = -1  # –í–≤–µ—Ä—Ö
        elif self.player_dir == 3: dx = 1   # –í–ø—Ä–∞–≤–æ
    
    elif direction == "left":
        # –î–≤–∏–∂–µ–Ω–∏–µ –≤–ª–µ–≤–æ –û–¢–ù–û–°–ò–¢–ï–õ–¨–ù–û –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–∑–≥–ª—è–¥–∞
        if self.player_dir == 0: dx = -1    # –ï—Å–ª–∏ —Å–º–æ—Ç—Ä–∏—Ç –≤–≤–µ—Ä—Ö, left = –≤–ª–µ–≤–æ
        elif self.player_dir == 1: dy = -1  # –ï—Å–ª–∏ –≤–ø—Ä–∞–≤–æ, left = –≤–≤–µ—Ä—Ö
        elif self.player_dir == 2: dx = 1   # –ï—Å–ª–∏ –≤–Ω–∏–∑, left = –≤–ø—Ä–∞–≤–æ
        elif self.player_dir == 3: dy = 1   # –ï—Å–ª–∏ –≤–ª–µ–≤–æ, left = –≤–Ω–∏–∑
    
    elif direction == "right":
        # –î–≤–∏–∂–µ–Ω–∏–µ –≤–ø—Ä–∞–≤–æ –û–¢–ù–û–°–ò–¢–ï–õ–¨–ù–û –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
        if self.player_dir == 0: dx = 1     # –ï—Å–ª–∏ –≤–≤–µ—Ä—Ö, right = –≤–ø—Ä–∞–≤–æ
        elif self.player_dir == 1: dy = 1   # –ï—Å–ª–∏ –≤–ø—Ä–∞–≤–æ, right = –≤–Ω–∏–∑
        elif self.player_dir == 2: dx = -1  # –ï—Å–ª–∏ –≤–Ω–∏–∑, right = –≤–ª–µ–≤–æ
        elif self.player_dir == 3: dy = -1  # –ï—Å–ª–∏ –≤–ª–µ–≤–æ, right = –≤–≤–µ—Ä—Ö

    new_x, new_y = self.player_pos[0] + dx, self.player_pos[1] + dy
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è
    if (0 <= new_x < self.maze_size and 0 <= new_y < self.maze_size 
        and self.maze[new_y][new_x] == 0):
        self.player_pos = [new_x, new_y]
        self.path.append(tuple(self.player_pos))
        self.steps += 1
        self.sounds["step"].play()
        
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–±–µ–¥—ã
        if (new_x, new_y) == (self.maze_size-1, self.maze_size-1):
            self.sounds["win"].play()
            self.game_state = "end"
    else:
        self.collisions += 1
        self.sounds["hit"].play()
```

### **–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
1. **–û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è**:
   - –î–≤–∏–∂–µ–Ω–∏—è "–≤–ª–µ–≤–æ" –∏ "–≤–ø—Ä–∞–≤–æ" —Ç–µ–ø–µ—Ä—å —É—á–∏—Ç—ã–≤–∞—é—Ç —Ç–µ–∫—É—â–µ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∑–≥–ª—è–¥–∞ (`player_dir`)
   - –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –∏–≥—Ä–æ–∫ —Å–º–æ—Ç—Ä–∏—Ç –≤–ø—Ä–∞–≤–æ (dir=1), —Ç–æ:
     - "–í–ª–µ–≤–æ" = –¥–≤–∏–∂–µ–Ω–∏–µ –≤–≤–µ—Ä—Ö (—É–º–µ–Ω—å—à–µ–Ω–∏–µ Y)
     - "–í–ø—Ä–∞–≤–æ" = –¥–≤–∏–∂–µ–Ω–∏–µ –≤–Ω–∏–∑ (—É–≤–µ–ª–∏—á–µ–Ω–∏–µ Y)

2. **–ú–∞—Ç—Ä–∏—Ü–∞ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π**:
   ```
   –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∑–≥–ª—è–¥–∞ | Left    | Right
   --------------------|---------|---------
   0 (–≤–≤–µ—Ä—Ö)           | –í–ª–µ–≤–æ   | –í–ø—Ä–∞–≤–æ
   1 (–≤–ø—Ä–∞–≤–æ)          | –í–≤–µ—Ä—Ö   | –í–Ω–∏–∑
   2 (–≤–Ω–∏–∑)            | –í–ø—Ä–∞–≤–æ  | –í–ª–µ–≤–æ
   3 (–≤–ª–µ–≤–æ)           | –í–Ω–∏–∑    | –í–≤–µ—Ä—Ö
   ```

### **–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
–î–æ–±–∞–≤—å—Ç–µ –≤ –æ—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª (`run`) –æ–±—Ä–∞–±–æ—Ç–∫—É –Ω–æ–≤—ã—Ö –∫–ª–∞–≤–∏—à:
```python
if event.type == pygame.KEYDOWN:
    if event.key == pygame.K_w:  # –í–ø–µ—Ä–µ–¥
        self.handle_movement("forward")
    elif event.key == pygame.K_s:  # –ù–∞–∑–∞–¥
        self.handle_movement("backward")
    elif event.key == pygame.K_a:  # –í–ª–µ–≤–æ
        self.handle_movement("left")
    elif event.key == pygame.K_d:  # –í–ø—Ä–∞–≤–æ
        self.handle_movement("right")
```

### **–ü–æ—á–µ–º—É –∑–≤—É–∫ –∏–≥—Ä–∞–ª, –Ω–æ –¥–≤–∏–∂–µ–Ω–∏—è –Ω–µ –±—ã–ª–æ?**
- –í –∏—Å—Ö–æ–¥–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –≤—ã–∑–æ–≤ `handle_movement("left/right")` –Ω–µ –∏–∑–º–µ–Ω—è–ª –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã, —Ç–∞–∫ –∫–∞–∫ –Ω–µ –±—ã–ª–æ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —ç—Ç–∏—Ö —Å–ª—É—á–∞–µ–≤
- –ó–≤—É–∫ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–ª—Å—è –¥–æ –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–≤–∏–∂–µ–Ω–∏—è, –ø–æ—ç—Ç–æ–º—É —Å–ª—ã—à–µ–Ω –±—ã–ª –≤—Å–µ–≥–¥–∞

### **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
1. –ù–∞–∂–º–∏—Ç–µ `A/D` –¥–ª—è –¥–≤–∏–∂–µ–Ω–∏—è –≤–ª–µ–≤–æ/–≤–ø—Ä–∞–≤–æ
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:
   - –î–≤–∏–∂–µ–Ω–∏–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—é –≤–∑–≥–ª—è–¥–∞ (—Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫)
   - –ó–≤—É–∫ —à–∞–≥–∞ –∏–≥—Ä–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–∏
   - –ü—Ä–∏ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–∏ —Å–æ —Å—Ç–µ–Ω–æ–π –∑–≤—É–∫ —É–¥–∞—Ä–∞ –∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è

–î–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è –¥–æ–±–∞–≤—å—Ç–µ –≤ `draw_game()` –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç:
```python
debug_text = f"Pos: {self.player_pos} Dir: {self.player_dir}"
debug_surf = self.font.render(debug_text, True, BLACK)
self.screen.blit(debug_surf, (20, SCREEN_HEIGHT - 30))
```

Me[7]
—É–±–µ—Ä–∏ –∏–∑ –∏–≥—Ä—ã —Å–≤–æ–π—Å—Ç–≤–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–≤–∏–∂–µ–Ω–∏—è –∏ –∫–Ω–æ–ø–∫–∏ –ø–æ–≤–æ—Ä–æ—Ç –≤–ø—Ä–∞–≤–æ –ø–æ–≤–æ—Ä–æ—Ç –≤–ª–µ–≤–æ

Ds[7] 
### –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è –∏–≥—Ä—ã –±–µ–∑ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–≤–∏–∂–µ–Ω–∏—è

–í–æ—Ç –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥, –≥–¥–µ —É–¥–∞–ª–µ–Ω—ã:
1. –í—Å–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è (`player_dir`)
2. –ö–Ω–æ–ø–∫–∏ –ø–æ–≤–æ—Ä–æ—Ç–∞
3. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ —Ç–æ–ª—å–∫–æ –±–∞–∑–æ–≤–∞—è –º–µ—Ö–∞–Ω–∏–∫–∞ –¥–≤–∏–∂–µ–Ω–∏—è (–≤–ø–µ—Ä–µ–¥/–Ω–∞–∑–∞–¥/–≤–ª–µ–≤–æ/–≤–ø—Ä–∞–≤–æ)

```python
import pygame
import sys
from pathlib import Path

# –î–æ–±–∞–≤–ª—è–µ–º –ø—É—Ç—å –∫ src –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞
sys.path.append(str(Path(__file__).parent.parent))
from src.maze import MazeGenerator

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Pygame
pygame.init()
pygame.mixer.init()

# –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã
SCREEN_WIDTH = 800
SCREEN_HEIGHT = 600
CELL_SIZE = 40
WHITE = (255, 255, 255)
BLACK = (0, 0, 0)
GREEN = (0, 255, 0)
RED = (255, 0, 0)
BLUE = (0, 0, 255)
GRAY = (200, 200, 200)  # –¶–≤–µ—Ç "–Ω–µ–≤–∏–¥–∏–º—ã—Ö" —Å—Ç–µ–Ω

class SoundLabGame:
    def __init__(self):
        self.screen = pygame.display.set_mode((SCREEN_WIDTH, SCREEN_HEIGHT))
        pygame.display.set_caption("–ó–≤—É–∫–æ–≤–æ–π –ª–∞–±–∏—Ä–∏–Ω—Ç (–£–ø—Ä–æ—â–µ–Ω–Ω—ã–π —Ä–µ–∂–∏–º)")
        self.clock = pygame.time.Clock()
        self.font = pygame.font.SysFont(None, 36)
        
        # –ò–≥—Ä–æ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        self.maze_size = 5
        self.maze = None
        self.player_pos = [0, 0]
        self.path = []
        self.game_state = "menu"
        self.steps = 0
        self.collisions = 0
        self.visible_maze = True  # –§–ª–∞–≥ –≤–∏–¥–∏–º–æ—Å—Ç–∏ –ª–∞–±–∏—Ä–∏–Ω—Ç–∞

        # –ó–∞–≥—Ä—É–∑–∫–∞ –∑–≤—É–∫–æ–≤
        self.sounds = {
            "hit": pygame.mixer.Sound("assets/sounds/hit.wav"),
            "step": pygame.mixer.Sound("assets/sounds/step.wav"),
            "win": pygame.mixer.Sound("assets/sounds/win.wav")
        }

    def generate_maze(self):
        """–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –Ω–æ–≤—ã–π –ª–∞–±–∏—Ä–∏–Ω—Ç"""
        generator = MazeGenerator(self.maze_size, self.maze_size)
        self.maze = generator.generate()
        start, end = generator.get_start_end()
        self.player_pos = list(start)
        self.path = [tuple(self.player_pos)]
        self.steps = 0
        self.collisions = 0

    def handle_movement(self, direction):
        """–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –¥–≤–∏–∂–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–∞"""
        dx, dy = 0, 0
        
        # –ü—Ä–æ—Å—Ç—ã–µ –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
        if direction == "forward":  # –í–≤–µ—Ä—Ö
            dy = -1
        elif direction == "backward":  # –í–Ω–∏–∑
            dy = 1
        elif direction == "left":  # –í–ª–µ–≤–æ
            dx = -1
        elif direction == "right":  # –í–ø—Ä–∞–≤–æ
            dx = 1

        new_x, new_y = self.player_pos[0] + dx, self.player_pos[1] + dy
        
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è
        if (0 <= new_x < self.maze_size and 0 <= new_y < self.maze_size 
            and self.maze[new_y][new_x] == 0):
            self.player_pos = [new_x, new_y]
            self.path.append(tuple(self.player_pos))
            self.steps += 1
            self.sounds["step"].play()
            
            # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–±–µ–¥—ã
            if (new_x, new_y) == (self.maze_size-1, self.maze_size-1):
                self.sounds["win"].play()
                self.game_state = "end"
        else:
            self.collisions += 1
            self.sounds["hit"].play()

    def draw_game(self):
        """–û—Ç—Ä–∏—Å–æ–≤–∫–∞ –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è —Å –≤–∏–¥–∏–º—ã–º –ª–∞–±–∏—Ä–∏–Ω—Ç–æ–º"""
        self.screen.fill(WHITE)
        
        # –†–∞—Å—Å—á–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏
        maze_width = self.maze_size * CELL_SIZE
        offset_x = (SCREEN_WIDTH - maze_width) // 2
        offset_y = (SCREEN_HEIGHT - maze_width) // 2
        
        # –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –ª–∞–±–∏—Ä–∏–Ω—Ç–∞
        for y in range(self.maze_size):
            for x in range(self.maze_size):
                rect = pygame.Rect(
                    offset_x + x * CELL_SIZE,
                    offset_y + y * CELL_SIZE,
                    CELL_SIZE, CELL_SIZE
                )
                if self.maze[y][x] == 1:  # –°—Ç–µ–Ω–∞
                    pygame.draw.rect(self.screen, GRAY, rect)
                else:  # –ü—Ä–æ—Ö–æ–¥
                    pygame.draw.rect(self.screen, WHITE, rect)
                pygame.draw.rect(self.screen, BLACK, rect, 1)  # –°–µ—Ç–∫–∞
        
        # –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –∏–≥—Ä–æ–∫–∞ (–ø—Ä–æ—Å—Ç–æ –∫—Ä–∞—Å–Ω—ã–π –∫–≤–∞–¥—Ä–∞—Ç)
        player_rect = pygame.Rect(
            offset_x + self.player_pos[0] * CELL_SIZE + CELL_SIZE//4,
            offset_y + self.player_pos[1] * CELL_SIZE + CELL_SIZE//4,
            CELL_SIZE//2, CELL_SIZE//2
        )
        pygame.draw.rect(self.screen, RED, player_rect)
        
        # –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
        info_text = f"–®–∞–≥–∏: {self.steps} | –°—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è: {self.collisions}"
        text_surface = self.font.render(info_text, True, BLACK)
        self.screen.blit(text_surface, (20, 20))

    def run(self):
        """–û—Å–Ω–æ–≤–Ω–æ–π –∏–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª"""
        self.generate_maze()
        running = True
        while running:
            for event in pygame.event.get():
                if event.type == pygame.QUIT:
                    running = False
                
                if event.type == pygame.KEYDOWN:
                    if event.key == pygame.K_w:  # –í–ø–µ—Ä–µ–¥ (–≤–≤–µ—Ä—Ö)
                        self.handle_movement("forward")
                    elif event.key == pygame.K_s:  # –ù–∞–∑–∞–¥ (–≤–Ω–∏–∑)
                        self.handle_movement("backward")
                    elif event.key == pygame.K_a:  # –í–ª–µ–≤–æ
                        self.handle_movement("left")
                    elif event.key == pygame.K_d:  # –í–ø—Ä–∞–≤–æ
                        self.handle_movement("right")
                    elif event.key == pygame.K_r:  # –†–µ—Å—Ç–∞—Ä—Ç
                        self.generate_maze()
                        self.steps = 0
                        self.collisions = 0
            
            self.draw_game()
            pygame.display.flip()
            self.clock.tick(60)
        
        pygame.quit()
        sys.exit()

if __name__ == "__main__":
    game = SoundLabGame()
    game.run()
```

### –ö–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:
1. **–£–¥–∞–ª–µ–Ω–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∑–≥–ª—è–¥–∞**:
   - –ù–µ—Ç –±–æ–ª—å—à–µ `player_dir`
   - –ù–µ—Ç –∫–Ω–æ–ø–æ–∫ –ø–æ–≤–æ—Ä–æ—Ç–∞ (Q/E)

2. **–ê–±—Å–æ–ª—é—Ç–Ω—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è**:
   ```python
   if direction == "forward":  # –í–≤–µ—Ä—Ö
       dy = -1
   elif direction == "backward":  # –í–Ω–∏–∑
       dy = 1
   elif direction == "left":  # –í–ª–µ–≤–æ
       dx = -1
   elif direction == "right":  # –í–ø—Ä–∞–≤–æ
       dx = 1
   ```

3. **–£–ø—Ä–æ—â–µ–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**:
   - `W` - –¥–≤–∏–∂–µ–Ω–∏–µ –≤–≤–µ—Ä—Ö
   - `S` - –¥–≤–∏–∂–µ–Ω–∏–µ –≤–Ω–∏–∑
   - `A` - –¥–≤–∏–∂–µ–Ω–∏–µ –≤–ª–µ–≤–æ
   - `D` - –¥–≤–∏–∂–µ–Ω–∏–µ –≤–ø—Ä–∞–≤–æ
   - `R` - —Ä–µ—Å—Ç–∞—Ä—Ç —É—Ä–æ–≤–Ω—è

4. **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä–æ–∫–∞**:
   - –¢–µ–ø–µ—Ä—å —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –∫—Ä–∞—Å–Ω—ã–π –∫–≤–∞–¥—Ä–∞—Ç (–±–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è)

### –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É:
1. –î–≤–∏–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∞–±—Å–æ–ª—é—Ç–Ω—ã–º (W=–≤–≤–µ—Ä—Ö, A=–≤–ª–µ–≤–æ –∏ —Ç.–¥.)
2. –ó–≤—É–∫ —à–∞–≥–∞ –¥–æ–ª–∂–µ–Ω –∏–≥—Ä–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–∏
3. –ü—Ä–∏ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–∏ —Å–æ —Å—Ç–µ–Ω–æ–π - –∑–≤—É–∫ —É–¥–∞—Ä–∞ –∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è

–î–ª—è –ø–æ–ª–Ω–æ–≥–æ "—Å–ª–µ–ø–æ–≥–æ" —Ä–µ–∂–∏–º–∞ –ø—Ä–æ—Å—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `self.visible_maze = False` –∏ —É–±–µ—Ä–∏—Ç–µ –æ—Ç—Ä–∏—Å–æ–≤–∫—É –ª–∞–±–∏—Ä–∏–Ω—Ç–∞ –≤ `draw_game()`.

![–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è](ds7.png)


Me[8]
–Ω–∞—Ä–∏—Å–æ–≤–∞—Ç—å –≥—Ä–∞–Ω–∏—Ü—ã –ª–∞–±–∏—Ä–∏–Ω—Ç–∞ –Ω–∞ —Ñ–∏–Ω–∞–ª—å–Ω–æ–º —ç–∫—Ä–∞–Ω–µ. –¥–∞–≤–∞–π —Ç–æ–ª—å–∫–æ diff –∞ –Ω–µ –ø–æ–ª–Ω—ã–π –ª–∏—Å—Ç–∏–Ω–≥
–í–æ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –¥–ª—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∞ (diff):

```python
def draw_end(self):
    """–û—Ç—Ä–∏—Å–æ–≤–∫–∞ —ç–∫—Ä–∞–Ω–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è"""
    self.screen.fill(WHITE)
    
    # –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –≥—Ä–∞–Ω–∏—Ü –ª–∞–±–∏—Ä–∏–Ω—Ç–∞ (–≤–Ω–µ—à–Ω–∏—Ö —Å—Ç–µ–Ω)
    maze_width = self.maze_size * CELL_SIZE
    offset_x = (SCREEN_WIDTH - maze_width) // 2
    offset_y = (SCREEN_HEIGHT - maze_width) // 2
    
    # –í–Ω–µ—à–Ω–∏–µ –≥—Ä–∞–Ω–∏—Ü—ã
    border_rect = pygame.Rect(offset_x, offset_y, maze_width, maze_width)
    pygame.draw.rect(self.screen, BLACK, border_rect, 2)  # –¢–æ–ª—â–∏–Ω–∞ 2px
    
    # –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å—Ç–µ–Ω—ã
    for y in range(self.maze_size):
        for x in range(self.maze_size):
            if self.maze[y][x] == 1:  # –ï—Å–ª–∏ —ç—Ç–æ —Å—Ç–µ–Ω–∞
                wall_rect = pygame.Rect(
                    offset_x + x * CELL_SIZE,
                    offset_y + y * CELL_SIZE,
                    CELL_SIZE, CELL_SIZE
                )
                pygame.draw.rect(self.screen, BLACK, wall_rect)
    
    # –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –ø—É—Ç–∏ (–∫–∞–∫ –±—ã–ª–æ)
    for i in range(1, len(self.path)):
        x1, y1 = self.path[i-1]
        x2, y2 = self.path[i]
        pygame.draw.line(self.screen, GREEN, 
                        (offset_x + x1*CELL_SIZE + CELL_SIZE//2, 
                         offset_y + y1*CELL_SIZE + CELL_SIZE//2),
                        (offset_x + x2*CELL_SIZE + CELL_SIZE//2, 
                         offset_y + y2*CELL_SIZE + CELL_SIZE//2), 3)
    
    # –û—á–∫–∏ –∏ –∫–Ω–æ–ø–∫–∞ "–í –º–µ–Ω—é" (–æ—Å—Ç–∞–µ—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
    ...
```

–ö–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:
1. –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ—Ç—Ä–∏—Å–æ–≤–∫–∞ –≤–Ω–µ—à–Ω–∏—Ö –≥—Ä–∞–Ω–∏—Ü –ª–∞–±–∏—Ä–∏–Ω—Ç–∞ (—Ç–æ–ª—Å—Ç–∞—è —á–µ—Ä–Ω–∞—è —Ä–∞–º–∫–∞)
2. –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å—Ç–µ–Ω—ã —Ç–µ–ø–µ—Ä—å —Ä–∏—Å—É—é—Ç—Å—è —Å–ø–ª–æ—à–Ω—ã–º–∏ —á–µ—Ä–Ω—ã–º–∏ –∫–≤–∞–¥—Ä–∞—Ç–∞–º–∏
3. –ü—É—Ç—å –∏–≥—Ä–æ–∫–∞ –æ—Å—Ç–∞–µ—Ç—Å—è –∑–µ–ª–µ–Ω–æ–π –ª–∏–Ω–∏–µ–π –∫–∞–∫ –±—ã–ª–æ
4. –í—Å–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Ä–∞—Å—Å—á–∏—Ç–∞–Ω—ã –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Ç–µ—Ö –∂–µ offset_x/offset_y

–î–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –ø—Ä–æ—Å—Ç–æ –∑–∞–º–µ–Ω–∏—Ç–µ —Ç–µ–∫—É—â–∏–π –º–µ—Ç–æ–¥ `draw_end()` –Ω–∞ —ç—Ç—É –≤–µ—Ä—Å–∏—é. –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —á–∞—Å—Ç–∏ –∫–æ–¥–∞ –æ—Å—Ç–∞—é—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π.

![–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è](ds8.png)

Me[9]
collision points –Ω–µ –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞—é—Ç—Å—è –Ω–∞ —Ñ–∏–Ω–∞–ª—å–Ω–æ–º —ç–∫—Ä–∞–Ω–µ. –Ω–∞–π–¥–∏ –ø—Ä–æ–±–ª–µ–º—É

Ds[9]
–ü—Ä–æ–±–ª–µ–º–∞ –≤ —Ç–æ–º, —á—Ç–æ —Ç–æ—á–∫–∏ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–π –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è, –ø–æ—Ç–æ–º—É —á—Ç–æ –º—ã –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏—Ö –æ–ø—Ä–µ–¥–µ–ª—è–µ–º. –í–æ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π diff:

```python
def draw_end(self):
    """–û—Ç—Ä–∏—Å–æ–≤–∫–∞ —ç–∫—Ä–∞–Ω–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è"""
    self.screen.fill(WHITE)
    
    # –†–∞—Å—Å—á–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏
    maze_width = self.maze_size * CELL_SIZE
    offset_x = (SCREEN_WIDTH - maze_width) // 2
    offset_y = (SCREEN_HEIGHT - maze_width) // 2
    
    # –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –ª–∞–±–∏—Ä–∏–Ω—Ç–∞ (—Å—Ç–µ–Ω—ã –∏ –ø—Ä–æ—Ö–æ–¥—ã)
    for y in range(self.maze_size):
        for x in range(self.maze_size):
            rect = pygame.Rect(
                offset_x + x * CELL_SIZE,
                offset_y + y * CELL_SIZE,
                CELL_SIZE, CELL_SIZE
            )
            if self.maze[y][x] == 1:  # –°—Ç–µ–Ω–∞
                pygame.draw.rect(self.screen, BLACK, rect)
            else:  # –ü—Ä–æ—Ö–æ–¥
                pygame.draw.rect(self.screen, WHITE, rect, 1)
    
    # –ú–∞—Ä–∫–∏—Ä–æ–≤–∫–∞ —Å—Ç–∞—Ä—Ç–∞ –∏ —Ñ–∏–Ω–∏—à–∞
    start, end = (0, 0), (self.maze_size-1, self.maze_size-1)
    pygame.draw.rect(self.screen, (200, 200, 200),  # –°–µ—Ä—ã–π
                    (offset_x + start[0]*CELL_SIZE, 
                     offset_y + start[1]*CELL_SIZE,
                     CELL_SIZE, CELL_SIZE))
    pygame.draw.rect(self.screen, (200, 200, 200),  # –°–µ—Ä—ã–π
                    (offset_x + end[0]*CELL_SIZE,
                     offset_y + end[1]*CELL_SIZE,
                     CELL_SIZE, CELL_SIZE))
    
    # –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –ø—É—Ç–∏ —Å –æ—Ç–º–µ—Ç–∫–∞–º–∏ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–π
    collision_points = []
    for i in range(1, len(self.path)):
        x1, y1 = self.path[i-1]
        x2, y2 = self.path[i]
        
        # –û–ø—Ä–µ–¥–µ–ª—è–µ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è
        dx = x2 - x1
        dy = y2 - y1
        
        # –ï—Å–ª–∏ –¥–≤–∏–∂–µ–Ω–∏–µ –±—ã–ª–æ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ (–æ—Å—Ç–∞–ª–∏—Å—å –Ω–∞ –º–µ—Å—Ç–µ)
        if dx == 0 and dy == 0:
            # –î–æ–±–∞–≤–ª—è–µ–º —Ç–æ—á–∫—É –ø–µ—Ä–µ–¥ —Å—Ç–µ–Ω–æ–π
            collision_points.append((x1, y1))
        
        pygame.draw.line(self.screen, GREEN, 
                        (offset_x + x1*CELL_SIZE + CELL_SIZE//2,
                         offset_y + y1*CELL_SIZE + CELL_SIZE//2),
                        (offset_x + x2*CELL_SIZE + CELL_SIZE//2,
                         offset_y + y2*CELL_SIZE + CELL_SIZE//2), 3)
    
    # –í—ã–≤–æ–¥–∏–º —Ç–æ—á–∫–∏ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–π
    print("–¢–æ—á–∫–∏ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–π:", collision_points)
    
    # –û—Ç—Ä–∏—Å–æ–≤–∫–∞ —Ç–æ—á–µ–∫ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–π (–ø–µ—Ä–µ–¥ —Å—Ç–µ–Ω–æ–π)
    for x, y in collision_points:
        # –û–ø—Ä–µ–¥–µ–ª—è–µ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ, –≤ –∫–æ—Ç–æ—Ä–æ–º –ø—ã—Ç–∞–ª–∏—Å—å –∏–¥—Ç–∏
        # (–Ω—É–∂–Ω–æ –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ —Ç–æ—á–∫–∏ –ø–µ—Ä–µ–¥ —Å—Ç–µ–Ω–æ–π)
        # –ó–¥–µ—Å—å –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
        
        pygame.draw.circle(self.screen, RED,
                         (offset_x + x*CELL_SIZE + CELL_SIZE//2,
                          offset_y + y*CELL_SIZE + CELL_SIZE//2),
                         5)  # –†–∞–¥–∏—É—Å 5px
    
    # –û—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ (–æ—á–∫–∏, –∫–Ω–æ–ø–∫–∞) –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
    ...
```

–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

1. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–π**:
   - –†–∞–Ω—å—à–µ –º—ã –ø—Ä–æ—Å—Ç–æ —Å—Ä–∞–≤–Ω–∏–≤–∞–ª–∏ —Ç–µ–∫—É—â—É—é –∏ –ø—Ä–µ–¥—ã–¥—É—â—É—é –ø–æ–∑–∏—Ü–∏–∏
   - –¢–µ–ø–µ—Ä—å –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç (dx, dy)

2. **–ù–µ —É—á–∏—Ç—ã–≤–∞–ª–æ—Å—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è**:
   - –ù—É–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–µ–π –ø–æ–ø—ã—Ç–∫–∏ –¥–≤–∏–∂–µ–Ω–∏—è
   - –õ–∏–±–æ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–π

3. **–¢–æ—á–∫–∏ —Ä–∏—Å—É—é—Ç—Å—è –≤ —Ç–µ–∫—É—â–µ–π –ø–æ–∑–∏—Ü–∏–∏**:
   - –ù–∞–¥–æ —Ä–∏—Å–æ–≤–∞—Ç—å –∏—Ö –ø–µ—Ä–µ–¥ —Å—Ç–µ–Ω–æ–π, –∞ –Ω–µ –≤ –ø–æ–∑–∏—Ü–∏–∏ –∏–≥—Ä–æ–∫–∞

–î–ª—è –ø–æ–ª–Ω–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω—É–∂–Ω–æ:

1. –õ–∏–±–æ —Ö—Ä–∞–Ω–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π –¥–≤–∏–∂–µ–Ω–∏—è
2. –õ–∏–±–æ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å `handle_movement()` —á—Ç–æ–±—ã –æ–Ω —Å–æ—Ö—Ä–∞–Ω—è–ª —Ç–æ—á–∫–∏ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–π

–õ—É—á—à–µ–µ —Ä–µ—à–µ–Ω–∏–µ - –¥–æ–±–∞–≤–∏—Ç—å –≤ `handle_movement()` –∑–∞–ø–∏—Å—å —Ç–æ—á–µ–∫ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–π:

```python
def handle_movement(self, direction):
    # ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ ...
    else:
        self.collisions += 1
        self.sounds["hit"].play()
        # –ó–∞–ø–æ–º–∏–Ω–∞–µ–º —Ç–æ—á–∫—É –ø–µ—Ä–µ–¥ —Å—Ç–µ–Ω–æ–π
        self.collision_points.append(tuple(self.player_pos))
```

–ò –∑–∞—Ç–µ–º –≤ `draw_end()` –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `self.collision_points` –≤–º–µ—Å—Ç–æ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è.

![–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è](ds9.png)

Me[10]
–Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
–≤–æ—Ç —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ–¥–∞ –≤ main.py
...
–¥–µ–ª–∞–π –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å —É—á–µ—Ç–æ–º —ç—Ç–æ–≥–æ –∫–æ–¥–∞

Ds[10]
–ü—Ä–æ–±–ª–µ–º–∞ —Å –æ—Ç—Ä–∏—Å–æ–≤–∫–æ–π —Ç–æ—á–µ–∫ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–π –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –∏–∑-–∑–∞ —Ç–æ–≥–æ, —á—Ç–æ –º—ã –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è –ø—Ä–∏ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–∏. –í–æ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –∫–æ–¥:

```python
def handle_movement(self, direction):
    """–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –¥–≤–∏–∂–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–∞"""
    if self.maze is None:
        pygame.quit()
        sys.exit()

    dx, dy = 0, 0
    move_dir = None  # –î–ª—è –∑–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–≤–∏–∂–µ–Ω–∏—è
    
    # –ü—Ä–æ—Å—Ç—ã–µ –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
    if direction == "forward":  # –í–≤–µ—Ä—Ö
        dy = -1
        move_dir = (0, -1)
    elif direction == "backward":  # –í–Ω–∏–∑
        dy = 1
        move_dir = (0, 1)
    elif direction == "left":  # –í–ª–µ–≤–æ
        dx = -1
        move_dir = (-1, 0)
    elif direction == "right":  # –í–ø—Ä–∞–≤–æ
        dx = 1
        move_dir = (1, 0)

    new_x, new_y = self.player_pos[0] + dx, self.player_pos[1] + dy
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è
    if (0 <= new_x < self.maze_size and 0 <= new_y < self.maze_size 
        and self.maze[new_y][new_x] == 0):
        self.player_pos = [new_x, new_y]
        self.path.append(tuple(self.player_pos))
        self.steps += 1
        self.sounds["step"].play()
        
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–±–µ–¥—ã
        if (new_x, new_y) == (self.maze_size-1, self.maze_size-1):
            self.sounds["win"].play()
            self.game_state = "end"
    else:
        self.collisions += 1
        self.sounds["hit"].play()            
        # –ó–∞–ø–æ–º–∏–Ω–∞–µ–º —Ç–æ—á–∫—É –ø–µ—Ä–µ–¥ —Å—Ç–µ–Ω–æ–π –∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
        self.collision_points.append((tuple(self.player_pos), move_dir))

def draw_end(self):
    """–û—Ç—Ä–∏—Å–æ–≤–∫–∞ —ç–∫—Ä–∞–Ω–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è"""
    if self.maze is None:
        pygame.quit()
        sys.exit()

    self.screen.fill(WHITE)

    maze_width = self.maze_size * CELL_SIZE
    offset_x = (SCREEN_WIDTH - maze_width) // 2
    offset_y = (SCREEN_HEIGHT - maze_width) // 2
    
    # –í–Ω–µ—à–Ω–∏–µ –≥—Ä–∞–Ω–∏—Ü—ã
    border_rect = pygame.Rect(offset_x, offset_y, maze_width, maze_width)
    pygame.draw.rect(self.screen, BLACK, border_rect, 2)  # –¢–æ–ª—â–∏–Ω–∞ 2px
    
    # –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –ª–∞–±–∏—Ä–∏–Ω—Ç–∞ (—Å—Ç–µ–Ω—ã –∏ –ø—Ä–æ—Ö–æ–¥—ã)
    for y in range(self.maze_size):
        for x in range(self.maze_size):
            rect = pygame.Rect(
                offset_x + x * CELL_SIZE,
                offset_y + y * CELL_SIZE,
                CELL_SIZE, CELL_SIZE
            )
            if self.maze[y][x] == 1:  # –°—Ç–µ–Ω–∞
                pygame.draw.rect(self.screen, BLACK, rect)
            else:  # –ü—Ä–æ—Ö–æ–¥
                pygame.draw.rect(self.screen, WHITE, rect, 1)
    
    # –ú–∞—Ä–∫–∏—Ä–æ–≤–∫–∞ —Å—Ç–∞—Ä—Ç–∞ –∏ —Ñ–∏–Ω–∏—à–∞
    start, end = (0, 0), (self.maze_size-1, self.maze_size-1)
    pygame.draw.rect(self.screen, (200, 200, 200),  # –°–µ—Ä—ã–π
                    (offset_x + start[0]*CELL_SIZE, 
                    offset_y + start[1]*CELL_SIZE,
                    CELL_SIZE, CELL_SIZE))
    pygame.draw.rect(self.screen, (200, 200, 200),  # –°–µ—Ä—ã–π
                    (offset_x + end[0]*CELL_SIZE,
                    offset_y + end[1]*CELL_SIZE,
                    CELL_SIZE, CELL_SIZE))
    
    # –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –ø—É—Ç–∏
    for i in range(1, len(self.path)):
        x1, y1 = self.path[i-1]
        x2, y2 = self.path[i]
        pygame.draw.line(self.screen, GREEN, 
                        (offset_x + x1*CELL_SIZE + CELL_SIZE//2,
                        offset_y + y1*CELL_SIZE + CELL_SIZE//2),
                        (offset_x + x2*CELL_SIZE + CELL_SIZE//2,
                        offset_y + y2*CELL_SIZE + CELL_SIZE//2), 3)
    
    # –û—Ç—Ä–∏—Å–æ–≤–∫–∞ —Ç–æ—á–µ–∫ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–π —Å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º
    for (x, y), (dx, dy) in self.collision_points:
        # –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Ü–µ–Ω—Ç—Ä–∞ —Ç–µ–∫—É—â–µ–π –∫–ª–µ—Ç–∫–∏
        center_x = offset_x + x*CELL_SIZE + CELL_SIZE//2
        center_y = offset_y + y*CELL_SIZE + CELL_SIZE//2
        
        # –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Ç–æ—á–∫–∏ –ø–µ—Ä–µ–¥ —Å—Ç–µ–Ω–æ–π (–ø–æ–ª–æ–≤–∏–Ω–∞ –ø—É—Ç–∏)
        point_x = center_x + dx * CELL_SIZE//2
        point_y = center_y + dy * CELL_SIZE//2
        
        # –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –ª–∏–Ω–∏–∏ –¥–æ —Ç–æ—á–∫–∏ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è
        pygame.draw.line(self.screen, GREEN, 
                        (center_x, center_y),
                        (point_x, point_y), 3)
        
        # –û—Ç—Ä–∏—Å–æ–≤–∫–∞ —Ç–æ—á–∫–∏ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è
        pygame.draw.circle(self.screen, RED,
                         (point_x, point_y),
                         5)  # –†–∞–¥–∏—É—Å 5px
    
    # –û—á–∫–∏
    score = (self.maze_size * 100) - (self.steps * 5) - (self.collisions * 10)
    score_text = self.font.render(f"–û—á–∫–∏: {score}", True, BLACK)
    self.screen.blit(score_text, (SCREEN_WIDTH//2 - score_text.get_width()//2, 20))
    
    # –ö–Ω–æ–ø–∫–∞ "–í –º–µ–Ω—é"
    btn_rect = pygame.Rect(SCREEN_WIDTH//2 - 100, SCREEN_HEIGHT - 80, 200, 50)
    pygame.draw.rect(self.screen, BLUE, btn_rect)
    text = self.font.render("–í –º–µ–Ω—é", True, WHITE)
    self.screen.blit(text, (btn_rect.centerx - text.get_width()//2, 
                         btn_rect.centery - text.get_height()//2))
    
    if btn_rect.collidepoint(pygame.mouse.get_pos()):
        pygame.draw.rect(self.screen, (0, 100, 255), btn_rect, 2)
        if pygame.mouse.get_pressed()[0]:
            self.game_state = "menu"
```

–û—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:

1. –í `handle_movement()` —Ç–µ–ø–µ—Ä—å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –Ω–µ —Ç–æ–ª—å–∫–æ –ø–æ–∑–∏—Ü–∏—è, –Ω–æ –∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è –ø—Ä–∏ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–∏:
   ```python
   self.collision_points.append((tuple(self.player_pos), move_dir))
   ```

2. –í `draw_end()` —Ç–æ—á–∫–∏ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–π —Ç–µ–ø–µ—Ä—å –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞—é—Ç—Å—è —Å —É—á–µ—Ç–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
   - –õ–∏–Ω–∏—è —Ä–∏—Å—É–µ—Ç—Å—è –æ—Ç —Ü–µ–Ω—Ç—Ä–∞ –∫–ª–µ—Ç–∫–∏ –¥–æ —Å–µ—Ä–µ–¥–∏–Ω—ã –ø—É—Ç–∏ –∫ —Å—Ç–µ–Ω–µ
   - –ö—Ä–∞—Å–Ω–∞—è —Ç–æ—á–∫–∞ —Å—Ç–∞–≤–∏—Ç—Å—è –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ –ø—É—Ç–∏ –∫ —Å—Ç–µ–Ω–µ

3. –î–ª—è –∫–∞–∂–¥–æ–π —Ç–æ—á–∫–∏ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è –º—ã —Ç–µ–ø–µ—Ä—å —Ö—Ä–∞–Ω–∏–º:
   - –ü–æ–∑–∏—Ü–∏—é –∏–≥—Ä–æ–∫–∞ (x, y)
   - –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è (dx, dy)

–≠—Ç–æ –¥–æ–ª–∂–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –≤—Å–µ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è, –ø–æ–∫–∞–∑—ã–≤–∞—è –≤ –∫–∞–∫–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –∏–≥—Ä–æ–∫ –ø—ã—Ç–∞–ª—Å—è –¥–≤–∏–≥–∞—Ç—å—Å—è –∏ –≥–¥–µ –∏–º–µ–Ω–Ω–æ –≤—Å—Ç—Ä–µ—Ç–∏–ª –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–µ.

![–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è](ds10.png)

Me
—Ä—É—á–Ω–æ–π –¥–µ–±–∞–≥, –ø—Ä–∏—á–∏–Ω–æ–π –∫–æ—Ç–æ—Ä–æ–≥–æ –±—ã–ª–∞ –±–∞–≥–∞, —á—Ç–æ –Ω–µ –æ–±–Ω—É–ª—è–µ—Ç—Å—è –º–∞—Å—Å–∏–≤ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–π –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –Ω–æ–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è –∏–≥—Ä—ã
—Ä—É—á–Ω–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –¢–ó

Me[11]
—É –Ω–∞—Å –µ—Å—Ç—å —Å—Ç–∞—Ä—Ç–æ–≤—ã–π —ç–∫—Ä–∞–Ω

def draw_menu(self):
        """–û—Ç—Ä–∏—Å–æ–≤–∫–∞ –º–µ–Ω—é –≤—ã–±–æ—Ä–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏"""
        self.screen.fill(WHITE)
        title = self.font.render("–ó–≤—É–∫–æ–≤–æ–π –ª–∞–±–∏—Ä–∏–Ω—Ç", True, BLACK)
        self.screen.blit(title, (SCREEN_WIDTH//2 - title.get_width()//2, 50))
        
        for i in range(2, 11):
            btn_rect = pygame.Rect(SCREEN_WIDTH//2 - 100, 100 + i*40, 200, 30)
            pygame.draw.rect(self.screen, BLUE, btn_rect)
            text = self.font.render(f"–£—Ä–æ–≤–µ–Ω—å {i}x{i}", True, WHITE)
            self.screen.blit(text, (btn_rect.centerx - text.get_width()//2, 
                            btn_rect.centery - text.get_height()//2))
            
            if btn_rect.collidepoint(pygame.mouse.get_pos()):
                pygame.draw.rect(self.screen, (0, 100, 255), btn_rect, 2)
                if pygame.mouse.get_pressed()[0]:
                    self.maze_size = i
                    self.generate_maze()
                    self.game_state = "game"

–Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∞—Ç—å –µ–≥–æ —Å–æ–≥–ª–∞—Å–Ω–æ –¢–ó:
- **–≠–ª–µ–º–µ–Ω—Ç—ã**:  
  - –í—ã–±–æ—Ä —Ä–∞–∑–º–µ—Ä–∞ –ª–∞–±–∏—Ä–∏–Ω—Ç–∞ (–∫–Ω–æ–ø–∫–∏ –æ—Ç 2√ó2 –¥–æ 10√ó10).  
  - –ö–Ω–æ–ø–∫–∞ **"–°—Ç–∞—Ä—Ç"** (–∑–∞–ø—É—Å–∫–∞–µ—Ç –∏–≥—Ä—É).  
  - –°–ª–µ–≤–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å –ø—Ä–∏–º–µ—Ä–æ–º –ª–∞–±–∏—Ä–∏—Ç–∞ (–ª–µ–∂–∏—Ç –≤ assets/img/maze.png), —Å–ø—Ä–∞–≤–∞ –≤—ã–±–æ—Ä —É—Ä–æ–≤–Ω—è, —Å–Ω–∏–∑—É –∫–Ω–æ–ø–∫–∞ —Å—Ç–∞—Ä—Ç.
- –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (—Ç–µ–∫—Å—Ç–æ–≤—ã–µ –∏–ª–∏ –ø—Ä–æ—Å—Ç—ã–µ –∏–∫–æ–Ω–∫–∏ –∑–µ–ª–µ–Ω–æ–≥–æ —Ü–≤–µ—Ç–∞ —Å –∑–∞–∫—Ä—É–≥–ª–µ–Ω–Ω—ã–º–∏ —É–≥–ª–∞–º–∏).  
  - –ù–∞–¥–ø–∏—Å—å "N√óN".

Ds[11]
–í–æ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∫–æ–¥ –¥–ª—è `draw_menu()` —Å–æ–≥–ª–∞—Å–Ω–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º:

```python
def draw_menu(self):
    """–û—Ç—Ä–∏—Å–æ–≤–∫–∞ –º–µ–Ω—é –≤—ã–±–æ—Ä–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ —Å –Ω–æ–≤—ã–º –¥–∏–∑–∞–π–Ω–æ–º"""
    self.screen.fill(WHITE)
    
    # –ó–∞–≥–æ–ª–æ–≤–æ–∫
    title = self.font.render("–ó–≤—É–∫–æ–≤–æ–π –ª–∞–±–∏—Ä–∏–Ω—Ç", True, BLACK)
    self.screen.blit(title, (SCREEN_WIDTH//2 - title.get_width()//2, 30))
    
    # –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ª–∞–±–∏—Ä–∏–Ω—Ç–∞
    try:
        maze_img = pygame.image.load("assets/img/maze.png")
        maze_img = pygame.transform.scale(maze_img, (300, 300))
        self.screen.blit(maze_img, (50, 100))
    except:
        # –ï—Å–ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ, —Ä–∏—Å—É–µ–º placeholder
        placeholder = pygame.Surface((300, 300))
        placeholder.fill(GRAY)
        pygame.draw.rect(placeholder, BLACK, (0, 0, 300, 300), 2)
        self.screen.blit(placeholder, (50, 100))
    
    # –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –≤—ã–±–æ—Ä–∞ —É—Ä–æ–≤–Ω—è
    level_panel = pygame.Rect(SCREEN_WIDTH - 350, 100, 300, 350)
    pygame.draw.rect(self.screen, (240, 240, 240), level_panel, border_radius=10)
    pygame.draw.rect(self.screen, BLACK, level_panel, 2, border_radius=10)
    
    # –ó–∞–≥–æ–ª–æ–≤–æ–∫ –≤—ã–±–æ—Ä–∞ —É—Ä–æ–≤–Ω—è
    level_text = self.font.render("–í—ã–±–µ—Ä–∏—Ç–µ —É—Ä–æ–≤–µ–Ω—å", True, BLACK)
    self.screen.blit(level_text, (level_panel.x + level_panel.width//2 - level_text.get_width()//2, 
                                level_panel.y + 20))
    
    # –ö–Ω–æ–ø–∫–∏ —É—Ä–æ–≤–Ω–µ–π
    for i in range(2, 11):
        btn_rect = pygame.Rect(
            level_panel.x + level_panel.width//2 - 100,
            level_panel.y + 50 + (i-2)*30,
            200, 25
        )
        
        # –ó–∞–∫—Ä—É–≥–ª–µ–Ω–Ω–∞—è –∫–Ω–æ–ø–∫–∞
        pygame.draw.rect(self.screen, (50, 200, 50), btn_rect, border_radius=5)
        pygame.draw.rect(self.screen, BLACK, btn_rect, 1, border_radius=5)
        
        # –¢–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏
        text = self.font.render(f"{i}x{i}", True, WHITE)
        self.screen.blit(text, (btn_rect.centerx - text.get_width()//2, 
                                btn_rect.centery - text.get_height()//2))
        
        if btn_rect.collidepoint(pygame.mouse.get_pos()):
            pygame.draw.rect(self.screen, (100, 255, 100), btn_rect, 2, border_radius=5)
            if pygame.mouse.get_pressed()[0]:
                self.maze_size = i
    
    # –ö–Ω–æ–ø–∫–∞ —Å—Ç–∞—Ä—Ç–∞
    start_btn = pygame.Rect(
        SCREEN_WIDTH//2 - 100,
        level_panel.y + level_panel.height + 20,
        200, 40
    )
    pygame.draw.rect(self.screen, (50, 200, 50), start_btn, border_radius=8)
    pygame.draw.rect(self.screen, BLACK, start_btn, 2, border_radius=8)
    
    start_text = self.font.render("–°–¢–ê–†–¢", True, WHITE)
    self.screen.blit(start_text, (start_btn.centerx - start_text.get_width()//2,
                                start_btn.centery - start_text.get_height()//2))
    
    if start_btn.collidepoint(pygame.mouse.get_pos()):
        pygame.draw.rect(self.screen, (100, 255, 100), start_btn, 3, border_radius=8)
        if pygame.mouse.get_pressed()[0]:
            self.generate_maze()
            self.game_state = "game"
    
    # –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è
    selected_text = self.font.render(f"–í—ã–±—Ä–∞–Ω–æ: {self.maze_size}x{self.maze_size}", True, BLACK)
    self.screen.blit(selected_text, (SCREEN_WIDTH//2 - selected_text.get_width()//2,
                                    start_btn.y + start_btn.height + 10))
```

–ö–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:

1. **–ù–æ–≤—ã–π –º–∞–∫–µ—Ç**:
   - –°–ª–µ–≤–∞ - –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ª–∞–±–∏—Ä–∏–Ω—Ç–∞ (300x300)
   - –°–ø—Ä–∞–≤–∞ - –ø–∞–Ω–µ–ª—å –≤—ã–±–æ—Ä–∞ —É—Ä–æ–≤–Ω—è (300x350)
   - –°–Ω–∏–∑—É - –∫–Ω–æ–ø–∫–∞ "–°—Ç–∞—Ä—Ç"

2. **–≠–ª–µ–º–µ–Ω—Ç—ã –¥–∏–∑–∞–π–Ω–∞**:
   - –ó–∞–∫—Ä—É–≥–ª–µ–Ω–Ω—ã–µ –∑–µ–ª–µ–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ (border_radius)
   - –°–µ—Ä–∞—è –ø–∞–Ω–µ–ª—å —Å —á–µ—Ä–Ω–æ–π –æ–±–≤–æ–¥–∫–æ–π –¥–ª—è –≤—ã–±–æ—Ä–∞ —É—Ä–æ–≤–Ω—è
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ª–∞–±–∏—Ä–∏–Ω—Ç–∞ (—Å fallback –Ω–∞ placeholder)

3. **–õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã**:
   - –í—ã–±–æ—Ä —É—Ä–æ–≤–Ω—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫–Ω–æ–ø–∫—É N√óN
   - –ò–≥—Ä–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è "–°—Ç–∞—Ä—Ç"
   - –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Ç–µ–∫—É—â–∏–π –≤—ã–±—Ä–∞–Ω–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å

4. **–í–∏–∑—É–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è**:
   - –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫–∏
   - –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –∑–æ–Ω—ã
   - –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø–ª–æ—Å–∫–∏–π –¥–∏–∑–∞–π–Ω

–î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –Ω—É–∂–Ω–æ:
1. –ü–æ–ª–æ–∂–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ª–∞–±–∏—Ä–∏–Ω—Ç–∞ –≤ `assets/img/maze.png`
2. –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ —à—Ä–∏—Ñ—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä—É—Å—Å–∫–∏–µ —Å–∏–º–≤–æ–ª—ã
3. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–∞–∑–º–µ—Ä—ã –ø–æ–¥ –≤–∞—à —ç–∫—Ä–∞–Ω

![–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è](ds11.png)

Me[12]

–ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∞—Ç—å –∏–≥—Ä–æ–≤–æ–π —ç–∫—Ä–∞–Ω —Å–æ–≥–ª–∞—Å–Ω–æ –¢–ó
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**:  
  - **–î–≤–∏–∂–µ–Ω–∏–µ**:  
    - –í–ø–µ—Ä–µ–¥ (`‚Üë`/`W`), –Ω–∞–∑–∞–¥ (`‚Üì`/`S`), –≤–ª–µ–≤–æ (`‚Üê`/`A`), –≤–ø—Ä–∞–≤–æ (`‚Üí`/`D`).  
  - **–î—Ä—É–≥–∏–µ –∫–Ω–æ–ø–∫–∏**:  
    - **"–ó–∞–Ω–æ–≤–æ"** ‚Äî —Ä–µ—Å—Ç–∞—Ä—Ç —É—Ä–æ–≤–Ω—è, –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç —Ç–æ—Ç –∂–µ —Å–∞–º—ã–π –ª–∞–±–∏—Ä–∏–Ω—Ç (`ESC`).  
–Ω–∞ –∫–Ω–æ–ø–∫–∏ –º–æ–∂–Ω–æ –Ω–∞–∂–∏–º–∞—Ç—å –∫–∞–∫ —Å –ø–æ–º–æ—â—å—é —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –∫–ª–∞–≤–∏—à, —Ç–∞–∫ –∏ –º—ã—à–∫–æ–π

—Ç–µ–∫—É—â–∏–π –∫–æ–¥ –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏:
...

Ds[12]
–í–æ—Ç –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π –∫–æ–¥ –¥–ª—è `draw_game()` —Å–æ–≥–ª–∞—Å–Ω–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –¢–ó:

```python
def draw_game(self):
    """–û—Ç—Ä–∏—Å–æ–≤–∫–∞ –∏–≥—Ä–æ–≤–æ–≥–æ —ç–∫—Ä–∞–Ω–∞ —Å –Ω–æ–≤—ã–º –¥–∏–∑–∞–π–Ω–æ–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è"""
    if self.maze is None:
        pygame.quit()
        sys.exit()

    self.screen.fill(WHITE)
    
    # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å —Å–≤–µ—Ä—Ö—É
    info_panel = pygame.Rect(0, 0, SCREEN_WIDTH, 50)
    pygame.draw.rect(self.screen, (240, 240, 240), info_panel)
    pygame.draw.line(self.screen, BLACK, (0, 50), (SCREEN_WIDTH, 50), 2)
    
    # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
    stats_text = f"–£—Ä–æ–≤–µ–Ω—å: {self.maze_size}x{self.maze_size} | –®–∞–≥–∏: {self.steps} | –°—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è: {self.collisions}"
    text_surface = self.font.render(stats_text, True, BLACK)
    self.screen.blit(text_surface, (20, 15))
    
    # –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–Ω–∏–∑—É
    control_panel = pygame.Rect(0, SCREEN_HEIGHT - 150, SCREEN_WIDTH, 150)
    pygame.draw.rect(self.screen, (230, 230, 230), control_panel)
    pygame.draw.line(self.screen, BLACK, (0, SCREEN_HEIGHT-150), (SCREEN_WIDTH, SCREEN_HEIGHT-150), 2)
    
    # –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–≤–∏–∂–µ–Ω–∏–µ–º (—Å—Ç–∏–ª—å –≥–µ–π–º–ø–∞–¥–∞)
    controls = [
        ("‚Üë", "–í–ø–µ—Ä–µ–¥", pygame.K_w),
        ("‚Üê", "–í–ª–µ–≤–æ", pygame.K_a),
        ("‚Üí", "–í–ø—Ä–∞–≤–æ", pygame.K_d),
        ("‚Üì", "–ù–∞–∑–∞–¥", pygame.K_s)
    ]
    
    # –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –∫—Ä—É–≥ –¥–ª—è –∫–Ω–æ–ø–æ–∫
    center_x, center_y = SCREEN_WIDTH//2, SCREEN_HEIGHT - 80
    pygame.draw.circle(self.screen, (200, 200, 200), (center_x, center_y), 60)
    
    # –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –∫–Ω–æ–ø–æ–∫ –ø–æ –∫—Ä—É–≥—É
    for i, (symbol, text, key) in enumerate(controls):
        angle = i * 90 + 45  # –°–º–µ—â–µ–Ω–∏–µ –Ω–∞ 45 –≥—Ä–∞–¥—É—Å–æ–≤
        x = center_x + 40 * math.cos(math.radians(angle))
        y = center_y + 40 * math.sin(math.radians(angle))
        
        btn_rect = pygame.Rect(x-25, y-25, 50, 50)
        color = (100, 200, 100) if pygame.key.get_pressed()[key] else (50, 150, 50)
        
        # –ó–∞–∫—Ä—É–≥–ª–µ–Ω–Ω–∞—è –∫–Ω–æ–ø–∫–∞
        pygame.draw.rect(self.screen, color, btn_rect, border_radius=10)
        pygame.draw.rect(self.screen, BLACK, btn_rect, 2, border_radius=10)
        
        # –°–∏–º–≤–æ–ª –Ω–∞ –∫–Ω–æ–ø–∫–µ
        symbol_surf = self.font.render(symbol, True, WHITE)
        self.screen.blit(symbol_surf, (btn_rect.centerx - symbol_surf.get_width()//2,
                                     btn_rect.centery - symbol_surf.get_height()//2))
        
        # –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–æ–≤ –º—ã—à–∫–æ–π
        if btn_rect.collidepoint(pygame.mouse.get_pos()):
            pygame.draw.rect(self.screen, (150, 255, 150), btn_rect, 3, border_radius=10)
            if pygame.mouse.get_pressed()[0]:
                if text == "–í–ø–µ—Ä–µ–¥":
                    self.handle_movement("forward")
                elif text == "–ù–∞–∑–∞–¥":
                    self.handle_movement("backward")
                elif text == "–í–ª–µ–≤–æ":
                    self.handle_movement("left")
                elif text == "–í–ø—Ä–∞–≤–æ":
                    self.handle_movement("right")
    
    # –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π
    action_btns = [
        ("–°–¥–∞—é—Å—å", pygame.K_ESCAPE),
        ("–ó–∞–Ω–æ–≤–æ", pygame.K_r)
    ]
    
    for i, (text, key) in enumerate(action_btns):
        btn_rect = pygame.Rect(SCREEN_WIDTH - 150 if i == 0 else SCREEN_WIDTH - 300, 
                             SCREEN_HEIGHT - 70, 
                             120, 40)
        color = (200, 100, 100) if pygame.key.get_pressed()[key] else (150, 50, 50)
        
        pygame.draw.rect(self.screen, color, btn_rect, border_radius=5)
        pygame.draw.rect(self.screen, BLACK, btn_rect, 2, border_radius=5)
        
        btn_text = self.font.render(text, True, WHITE)
        self.screen.blit(btn_text, (btn_rect.centerx - btn_text.get_width()//2,
                                  btn_rect.centery - btn_text.get_height()//2))
        
        if btn_rect.collidepoint(pygame.mouse.get_pos()):
            pygame.draw.rect(self.screen, (255, 150, 150), btn_rect, 3, border_radius=5)
            if pygame.mouse.get_pressed()[0]:
                if text == "–°–¥–∞—é—Å—å":
                    self.game_state = "end"
                elif text == "–ó–∞–Ω–æ–≤–æ":
                    self.generate_maze()
                    self.steps = 0
                    self.collisions = 0
    
    # –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –ª–∞–±–∏—Ä–∏–Ω—Ç–∞ (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω —Ä–µ–∂–∏–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è)
    if GAME_SHOW:
        self.draw_maze()
```

–ö–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:

1. **–ù–æ–≤—ã–π –º–∞–∫–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞**:
   - –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
   - –ù–∏–∂–Ω—è—è –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (150px)
   - –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –∫–Ω–æ–ø–æ–∫ –¥–≤–∏–∂–µ–Ω–∏—è

2. **–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è**:
   - –ö–Ω–æ–ø–∫–∏ –¥–≤–∏–∂–µ–Ω–∏—è –≤ –≤–∏–¥–µ –∫—Ä—É–≥–æ–≤–æ–π –ø–∞–Ω–µ–ª–∏ (–∫–∞–∫ –≥–µ–π–º–ø–∞–¥)
   - –ö–Ω–æ–ø–∫–∏ "–°–¥–∞—é—Å—å" –∏ "–ó–∞–Ω–æ–≤–æ" —Å–ø—Ä–∞–≤–∞
   - –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–Ω–æ–ø–æ–∫ (–ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–ª–∞–≤–∏—à)

3. **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å**:
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–ª–∏–∫–æ–≤ –º—ã—à–∫–æ–π
   - –í–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏
   - –†–µ–∞–∫—Ü–∏—è –Ω–∞ –Ω–∞–∂–∞—Ç–∏–µ –∫–ª–∞–≤–∏—à

4. **–í–∏–∑—É–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è**:
   - –ó–∞–∫—Ä—É–≥–ª–µ–Ω–Ω—ã–µ –∫–Ω–æ–ø–∫–∏
   - –¶–≤–µ—Ç–æ–≤–∞—è –¥–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞—Ü–∏—è (–∑–µ–ª–µ–Ω—ã–µ - –¥–≤–∏–∂–µ–Ω–∏–µ, –∫—Ä–∞—Å–Ω—ã–µ - –¥–µ–π—Å—Ç–≤–∏—è)
   - –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –∑–æ–Ω—ã

–î–ª—è —Ä–∞–±–æ—Ç—ã –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ –Ω–∞—á–∞–ª–æ —Ñ–∞–π–ª–∞:
```python
import math
```

–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:
- –ö–Ω–æ–ø–∫–∏ –¥–≤–∏–∂–µ–Ω–∏—è —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã –ø–æ –∫—Ä—É–≥—É –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞
- –ö–ª–∞–≤–∏—à–∏ —Ä–µ–∞–≥–∏—Ä—É—é—Ç –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–∫—Ä—ã—Ç–∏—è –ª–∞–±–∏—Ä–∏–Ω—Ç–∞ (GAME_SHOW)

Me[13]
–Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Å–∏–º–≤–æ–ª—ã
–∫–Ω–æ–ø–∫–∏ –Ω—É–∂–Ω–æ —Ä–∞—Å–ø–æ–ª–æ–∂–∏—Ç—å –≤ –≤–∏–¥–µ –∫—Ä–µ—Å—Ç–∞

Me[14]
–Ω—É–∂–Ω–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å –ø–æ –≤—ã—Å–æ—Ç–µ –ø–∞–Ω–µ–ª—å —Å–Ω–∏–∑—É –Ω–∞ 30 –ø–∏–∫—Å–µ–ª–µ–π
–∏ —Ä–∞—Å–ø–æ–ª–æ–∂–∏—Ç—å –∫–Ω–æ–ø–∫–∏ –±–ª–∏–∂–µ –∫ –¥–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω–æ–º—É —Ü–µ–Ω—Ç—Ä—É
–Ω–∞–ø–∏—à–∏ —Ç–æ–ª—å–∫–æ diff

Me[15]
–ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –º—ã—à–∫–æ–π –Ω–∞ –∫–Ω–æ–ø–∫—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–Ω–∞ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ. –Ω—É–∂–Ω–∞ –∑–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –Ω–∞–∂–∞—Ç–∏—è–º–∏

Ds[15]
–í–æ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –∫–æ–¥ —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π –º–µ–∂–¥—É –Ω–∞–∂–∞—Ç–∏—è–º–∏ –∫–Ω–æ–ø–æ–∫:

```python
def __init__(self):
    # ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ ...
    self.last_click_time = 0  # –í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∫–ª–∏–∫–∞
    self.click_delay = 300  # –ó–∞–¥–µ—Ä–∂–∫–∞ –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö (0.3 —Å–µ–∫—É–Ω–¥—ã)

def draw_game(self):
    # ... –ø—Ä–µ–¥—ã–¥—É—â–∏–π –∫–æ–¥ –¥–æ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–ª–∏–∫–æ–≤ ...
    
    current_time = pygame.time.get_ticks()
    
    # –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–æ–≤ –º—ã—à–∫–æ–π —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π
    if btn_rect.collidepoint(pygame.mouse.get_pos()):
        pygame.draw.rect(self.screen, (150, 255, 150), btn_rect, 3, border_radius=10)
        if pygame.mouse.get_pressed()[0] and current_time - self.last_click_time > self.click_delay:
            self.last_click_time = current_time
            if text == "–í–ø–µ—Ä–µ–¥":
                self.handle_movement("forward")
            elif text == "–ù–∞–∑–∞–¥":
                self.handle_movement("backward")
            elif text == "–í–ª–µ–≤–æ":
                self.handle_movement("left")
            elif text == "–í–ø—Ä–∞–≤–æ":
                self.handle_movement("right")
    
    # ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ ...
    
    # –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –¥–ª—è –∫–Ω–æ–ø–æ–∫ –¥–µ–π—Å—Ç–≤–∏–π
    if btn_rect.collidepoint(pygame.mouse.get_pos()):
        pygame.draw.rect(self.screen, (255, 150, 150), btn_rect, 3, border_radius=5)
        if pygame.mouse.get_pressed()[0] and current_time - self.last_click_time > self.click_delay:
            self.last_click_time = current_time
            if text == "–°–¥–∞—é—Å—å":
                self.game_state = "end"
            elif text == "–ó–∞–Ω–æ–≤–æ":
                self.generate_maze()
                self.steps = 0
                self.collisions = 0
```

–ö–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:

1. –î–æ–±–∞–≤–ª–µ–Ω—ã –¥–≤–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∫–ª–∞—Å—Å–∞:
   - `last_click_time` - —Ö—Ä–∞–Ω–∏—Ç –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∫–ª–∏–∫–∞
   - `click_delay` - –∑–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –∫–ª–∏–∫–∞–º–∏ (300 –º—Å)

2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –ø–µ—Ä–µ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –∫–ª–∏–∫–∞:
   ```python
   if pygame.mouse.get_pressed()[0] and current_time - self.last_click_time > self.click_delay
   ```

3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –∫–ª–∏–∫–µ:
   ```python
   self.last_click_time = current_time
   ```

4. –ü—Ä–∏–º–µ–Ω–µ–Ω–æ –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –∫–Ω–æ–ø–æ–∫ (—É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ –¥–µ–π—Å—Ç–≤–∏–π)

–≠—Ç–æ —Ä–µ—à–µ–Ω–∏–µ:
- –ü–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–∂–∏–º–∞—Ç—å –∫–Ω–æ–ø–∫–∏ –Ω–µ —á–∞—â–µ —á–µ–º —Ä–∞–∑ –≤ 0.3 —Å–µ–∫—É–Ω–¥—ã
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–ª–∞–≤–Ω–æ—Å—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- –ù–µ –º–µ—à–∞–µ—Ç –±—ã—Å—Ç—Ä—ã–º –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–º –Ω–∞–∂–∞—Ç–∏—è–º –∫–ª–∞–≤–∏—à
- –õ–µ–≥–∫–æ —Ä–µ–≥—É–ª–∏—Ä—É–µ—Ç—Å—è (–∏–∑–º–µ–Ω–∏—Ç–µ `click_delay`)

–î–ª—è –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–æ–∂–Ω–æ:
1. –£–º–µ–Ω—å—à–∏—Ç—å `click_delay` –¥–æ 200 –º—Å –¥–ª—è –±–æ–ª–µ–µ –±—ã—Å—Ç—Ä–æ–≥–æ –æ—Ç–∫–ª–∏–∫–∞
2. –ò–ª–∏ —É–≤–µ–ª–∏—á–∏—Ç—å –¥–æ 500 –º—Å –¥–ª—è –±–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–æ–≥–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
3. –°–¥–µ–ª–∞—Ç—å —Ä–∞–∑–Ω—É—é –∑–∞–¥–µ—Ä–∂–∫—É –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∫–Ω–æ–ø–æ–∫

Me[16]
—Å—Ç—Ä–µ–ª–∫–∏ –Ω–∞ –∫–Ω–æ–ø–∫–∞—Ö –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è. –ø–µ—Ä–µ–¥–µ–ª–∞–π –Ω–∞ –Ω–∞–¥–ø–∏—Å–∏ WASD

Ds[16]
–ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ —Å –Ω–µ–æ—Ç–æ–±—Ä–∞–∂–∞–µ–º—ã–º–∏ —à—Ä–∏—Ñ—Ç–∞–º–∏

![–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è](ds17.png)